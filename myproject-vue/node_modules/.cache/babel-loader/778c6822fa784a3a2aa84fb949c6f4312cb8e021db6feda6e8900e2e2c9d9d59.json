{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'HeaderComponent',\n  props: {\n    heading: {\n      type: String,\n      required: true,\n      default: 'Header Page'\n    }\n  },\n  data() {\n    return {\n      token: localStorage.getItem('token'),\n      userId: localStorage.getItem('userId'),\n      successMessage: '',\n      message: ''\n    };\n  },\n  methods: {\n    ...mapActions({\n      userLogoutAction: 'userLogout'\n    }),\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('userId');\n      localStorage.removeItem('username');\n      window.scrollTo(0, 0);\n      this.successMessage = response.data.status.message;\n      setTimeout(() => {\n        this.successMessage = '';\n      }, 3000);\n      setTimeout(() => this.$router.push({\n        path: '/'\n      }), 3000);\n      // try{\n      //   this.userLogoutAction(userToken).then((response) => {\n      //     if (response.data.status.code === 200){\n\n      //     localStorage.removeItem('token')\n      //     localStorage.removeItem('userId')\n      //     localStorage.removeItem('username')   \n      //     window.scrollTo(0, 0);\n      //     this.successMessage =response.data.status.message\n      //     setTimeout(() => {\n      //       this.successMessage = '';\n      //     }, 3000);\n      //     setTimeout( () => this.$router.push({ path: '/'}), 3000);\n\n      //     } else{\n      //         this.message ='Some Error Occured. Can you please try again'\n\n      //         //return this.$router.push('/register')\n\n      //       }\n      //   });\n      // }\n      // catch(error){\n      //   this.logoutErrors=error.response.data.status.message\n      // }\n      // localStorage.removeItem('token')\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      logoutSuccess: 'getLogoutSuccess',\n      logoutErrors: 'getLogoutErrors'\n    })\n  }\n};","map":{"version":3,"mappings":";AAmCA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE7C,eAAe;EACbC,IAAI,EAAC,iBAAiB;EACtBC,KAAK,EAAC;IACJC,OAAO,EAAC;MACIC,IAAI,EAACC,MAAM;MACXC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAE;IACb;EACV,CAAC;EACDC,IAAI,GAAE;IACJ,OAAM;MACJC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACpCC,MAAM,EAAEF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;MACtCE,cAAc,EAAC,EAAE;MACjBC,OAAO,EAAC;IACV;EACF,CAAC;EACDC,OAAO,EAAC;IACJ,GAAGhB,UAAU,CAAC;MACViB,gBAAgB,EAAE;IACpB,CAAC,CAAC;IACJC,MAAM,GAAE;MACNP,YAAY,CAACQ,UAAU,CAAC,OAAO;MAC/BR,YAAY,CAACQ,UAAU,CAAC,QAAQ;MAChCR,YAAY,CAACQ,UAAU,CAAC,UAAU;MAClCC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;MACrB,IAAI,CAACP,cAAa,GAAGQ,QAAQ,CAACb,IAAI,CAACc,MAAM,CAACR,OAAM;MAChDS,UAAU,CAAC,MAAM;QACf,IAAI,CAACV,cAAa,GAAI,EAAE;MAC1B,CAAC,EAAE,IAAI,CAAC;MACRU,UAAU,CAAE,MAAM,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAG,CAAC,CAAC,EAAE,IAAI,CAAC;MACxD;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;IAEF;EACF,CAAC;;EACDC,QAAQ,EAAE;IACV,GAAG3B,UAAU,CAAC;MACV4B,aAAa,EAAE,kBAAkB;MACjCC,YAAY,EAAE;IAChB,CAAC;EACH;AAEJ","names":["mapActions","mapGetters","name","props","heading","type","String","required","default","data","token","localStorage","getItem","userId","successMessage","message","methods","userLogoutAction","logout","removeItem","window","scrollTo","response","status","setTimeout","$router","push","path","computed","logoutSuccess","logoutErrors"],"sourceRoot":"","sources":["/home/shilpa/Public/my-work/code/simple-crud/myproject-vue/src/components/HeaderComponent.vue"],"sourcesContent":["<template>\n\n  <div class=\"container mt-3\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <p class=\"h3 text-success fw-bold\">{{heading}}\n          <span v-if=\"!token\">\n              <router-link to=\"/register\" class=\"btn btn-success btn-sm\"><i class=\"fa fa-user-circle\"></i> Register</router-link>\n\n              <router-link  to=\"/login\" class=\"btn btn-success btn-sm m-1\"><i class=\"fa fa-sign-in\"></i> Login</router-link>\n          </span>\n          <span v-else> \n            <router-link  to=\"/tag/list\" class=\"btn btn-success btn-sm m-1\"><i class=\"fa fa-tag\"></i> Tag</router-link>\n\n            <button  @click=\"logout(token)\" class=\"btn btn-success btn-sm m-1\"><i class=\"fa fa-sign-out\"></i> Logout</button>\n          </span>\n        </p>\n        <p class=\"fst-italic\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. </p>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n            <p v-if=\"successMessage\" class=\"h4 text-success \">{{successMessage}}</p>\n            <p v-if=\"message\" class=\"h4 text-primary \">{{message}}</p>\n            <p v-if=\"logoutErrors.results\" class=\"h4 text-primary \">{{logoutErrors.results}}</p>\n\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  name:'HeaderComponent',\n  props:{\n    heading:{\n                type:String,\n                required: true,\n                default: 'Header Page'\n            }\n  },\n  data(){\n    return{\n      token: localStorage.getItem('token'),\n      userId: localStorage.getItem('userId'),\n      successMessage:'',\n      message:'',\n    }\n  },\n  methods:{\n      ...mapActions({\n          userLogoutAction: 'userLogout',\n        }),\n      logout(){\n        localStorage.removeItem('token')\n        localStorage.removeItem('userId')\n        localStorage.removeItem('username')   \n        window.scrollTo(0, 0);\n        this.successMessage =response.data.status.message\n        setTimeout(() => {\n          this.successMessage = '';\n        }, 3000);\n        setTimeout( () => this.$router.push({ path: '/'}), 3000);\n        // try{\n        //   this.userLogoutAction(userToken).then((response) => {\n        //     if (response.data.status.code === 200){\n\n        //     localStorage.removeItem('token')\n        //     localStorage.removeItem('userId')\n        //     localStorage.removeItem('username')   \n        //     window.scrollTo(0, 0);\n        //     this.successMessage =response.data.status.message\n        //     setTimeout(() => {\n        //       this.successMessage = '';\n        //     }, 3000);\n        //     setTimeout( () => this.$router.push({ path: '/'}), 3000);\n\n        //     } else{\n        //         this.message ='Some Error Occured. Can you please try again'\n                \n        //         //return this.$router.push('/register')\n\n        //       }\n        //   });\n        // }\n        // catch(error){\n        //   this.logoutErrors=error.response.data.status.message\n        // }\n        // localStorage.removeItem('token')\n\n      }\n    },\n    computed: {\n    ...mapGetters({\n        logoutSuccess: 'getLogoutSuccess',\n        logoutErrors: 'getLogoutErrors',\n      }),\n    }\n\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
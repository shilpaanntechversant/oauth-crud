{"ast":null,"code":"import { mapActions, mapGetters } from 'vuex';\nimport HeaderComponent from '@/components/HeaderComponent.vue';\nexport default {\n  name: 'PostUpdate',\n  components: {\n    HeaderComponent\n  },\n  data() {\n    return {\n      headingValue: \"Update Post\",\n      postId: this.$route.params.postId,\n      post: {},\n      title: '',\n      description: '',\n      image: '',\n      successMessage: '',\n      message: ''\n    };\n  },\n  mounted() {\n    this.isLoading = true;\n    this.postDetailsAction(this.postId).then(response => {\n      if (response.status === 200) {\n        this.post = response.data.results;\n        this.isLoading = false;\n      }\n    });\n  },\n  methods: {\n    ...mapActions({\n      postUpdateAction: 'PostUpdate',\n      postDetailsAction: 'postDetails'\n    })\n    //   postUpdate(){\n    //       try{\n    //         const postData = {\n    //           id: this.postId,\n    //           title: this.post.title,\n    //           description: this.post.description,\n    //           image: this.post.image,\n    //         };\n    //         console.log(postData)\n    //         this.postUpdateAction(postData).then((response) => {\n    //           this.errorMessage.results=[]\n\n    //           if (response.data.status.code === 200){\n    //             window.scrollTo(0, 0);\n    //             this.successMessage =response.data.status.message\n    //             setTimeout(() => {\n    //               this.successMessage = '';\n    //             }, 3000);\n    //             setTimeout( () => this.$router.push({ path: '/post/list'}), 3000);\n    //             //return this.$router.push('/')\n    //           }else{\n    //             this.message ='Some Error Occured. Can you please try again'\n    //             setTimeout(() => {\n    //               this.message = '';\n    //             }, 3000);\n\n    //             //return this.$router.push('/register')\n\n    //           }\n    //         });\n    //       }\n    //     catch(error){\n    //       console.log(error.response.data.results)\n    //       this.errorMessage=error.response.data.results\n    //       // return this.$router.push('/register')\n    //     }\n\n    //   }\n  },\n\n  computed: {\n    ...mapGetters({\n      successMessage: 'getPostSuccess',\n      errorMessage: 'getPostError',\n      postDetails: 'getpostDetails'\n    })\n  }\n};","map":{"version":3,"mappings":"AA6CA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,OAAOC,eAAc,MAAQ,kCAAiC;AAE9D,eAAe;EACXC,IAAI,EAAC,YAAY;EACjBC,UAAU,EAAC;IACTF;EACF,CAAC;EACDG,IAAI,GAAE;IACF,OAAM;MACFC,YAAW,EAAI,aAAa;MAC5BC,MAAM,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,MAAM;MACjCG,IAAI,EAAC,CAAC,CAAC;MACPC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdC,KAAK,EAAC,EAAE;MACRC,cAAc,EAAC,EAAE;MACjBC,OAAO,EAAC;IAGZ;EACJ,CAAC;EACDC,OAAO,GAAE;IACL,IAAI,CAACC,SAAQ,GAAI,IAAI;IACrB,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACX,MAAM,CAAC,CAACY,IAAI,CAAEC,QAAQ,IAAK;MACvD,IAAIA,QAAQ,CAACC,MAAK,KAAM,GAAG,EAAE;QAC3B,IAAI,CAACX,IAAG,GAAIU,QAAQ,CAACf,IAAI,CAACiB,OAAO;QACjC,IAAI,CAACL,SAAQ,GAAI,KAAK;MACxB;IACF,CAAC,CAAC;EACJ,CAAC;EACDM,OAAO,EAAC;IACN,GAAGvB,UAAU,CAAC;MACZwB,gBAAgB,EAAE,YAAY;MAC9BN,iBAAiB,EAAE;IACrB,CAAC;IACH;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAIA;EACA,CAAC;;EACDO,QAAQ,EAAE;IACV,GAAGxB,UAAU,CAAC;MACVa,cAAc,EAAE,gBAAgB;MAChCY,YAAY,EAAE,cAAc;MAC5BC,WAAW,EAAE;IAEf,CAAC;EACH;AACJ","names":["mapActions","mapGetters","HeaderComponent","name","components","data","headingValue","postId","$route","params","post","title","description","image","successMessage","message","mounted","isLoading","postDetailsAction","then","response","status","results","methods","postUpdateAction","computed","errorMessage","postDetails"],"sourceRoot":"","sources":["/home/shilpa/Public/my-work/code/demo-authentication/authenticate-vue/src/views/PostUpdate.vue"],"sourcesContent":["<template>\n <HeaderComponent :heading=\"headingValue\" />\n\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n            <p v-if=\"successMessage\" class=\"h4 text-success \">{{successMessage}}</p>\n            <p v-if=\"message\" class=\"h4 text-primary \">{{message}}</p>\n\n      </div>\n\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n        <form @submit.prevent=\"postUpdate\">\n          <div class=\"mb-2\">\n            <input v-model=\"post.title\" type=\"text\" class=\"form-control\" placeholder=\"Title\">\n            <p v-if=\"errorMessage.results && errorMessage.results.title\" class=\"h6 text-danger \">{{errorMessage.results.title[0]}}</p>\n          </div>\n          <div class=\"mb-2\">\n            \n            <textarea v-model=\"post.description\" class=\"form-control\" placeholder=\"Description\"></textarea>\n            <p v-if=\"errorMessage.results && errorMessage.results.description\" class=\"h6 text-danger \">{{errorMessage.results.description[0]}}</p>\n          </div>\n          <div class=\"mb-2\">\n            <input v-model=\"post.image\" type=\"text\" class=\"form-control\" placeholder=\"Image\">\n            <p v-if=\"errorMessage.results && errorMessage.results.image\" class=\"h6 text-danger \">{{errorMessage.results.image[0]}}</p>\n          </div>\n          \n          <div class=\"mb-2\">\n            <input type=\"submit\" class=\"btn btn-success\" value=\"Create\">\n          </div>\n        </form>\n      </div>\n      <div class=\"col-md-4\" v-if=\"post.image\">\n        <img class=\"user-img-big\" :src=\"post.image\" >\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport HeaderComponent from  '@/components/HeaderComponent.vue'\n\nexport default {\n    name:'PostUpdate',\n    components:{\n      HeaderComponent\n    },\n    data(){\n        return{\n            headingValue : \"Update Post\",\n            postId: this.$route.params.postId,\n            post:{},\n            title:'',\n            description:'',\n            image:'',\n            successMessage:'',\n            message:'',\n            \n            \n        }\n    },\n    mounted(){\n        this.isLoading = true;\n        this.postDetailsAction(this.postId).then((response) => {\n        if (response.status === 200) {\n          this.post = response.data.results;\n          this.isLoading = false;\n        }\n      });\n    },\n    methods:{\n      ...mapActions({\n        postUpdateAction: 'PostUpdate',\n        postDetailsAction: 'postDetails',\n      }),\n    //   postUpdate(){\n    //       try{\n    //         const postData = {\n    //           id: this.postId,\n    //           title: this.post.title,\n    //           description: this.post.description,\n    //           image: this.post.image,\n    //         };\n    //         console.log(postData)\n    //         this.postUpdateAction(postData).then((response) => {\n    //           this.errorMessage.results=[]\n\n    //           if (response.data.status.code === 200){\n    //             window.scrollTo(0, 0);\n    //             this.successMessage =response.data.status.message\n    //             setTimeout(() => {\n    //               this.successMessage = '';\n    //             }, 3000);\n    //             setTimeout( () => this.$router.push({ path: '/post/list'}), 3000);\n    //             //return this.$router.push('/')\n    //           }else{\n    //             this.message ='Some Error Occured. Can you please try again'\n    //             setTimeout(() => {\n    //               this.message = '';\n    //             }, 3000);\n\n    //             //return this.$router.push('/register')\n\n    //           }\n    //         });\n    //       }\n    //     catch(error){\n    //       console.log(error.response.data.results)\n    //       this.errorMessage=error.response.data.results\n    //       // return this.$router.push('/register')\n    //     }\n        \n        \n\n    //   }\n    },\n    computed: {\n    ...mapGetters({\n        successMessage: 'getPostSuccess',\n        errorMessage: 'getPostError',\n        postDetails: 'getpostDetails',\n\n      }),\n    }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
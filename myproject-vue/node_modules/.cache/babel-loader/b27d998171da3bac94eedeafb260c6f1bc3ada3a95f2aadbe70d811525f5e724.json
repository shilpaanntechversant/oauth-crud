{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions, mapGetters } from 'vuex';\nimport HeaderComponent from '@/components/HeaderComponent.vue';\nexport default {\n  name: 'PostCreate',\n  components: {\n    HeaderComponent\n  },\n  data() {\n    return {\n      headingValue: \"Add New Post\",\n      title: '',\n      description: '',\n      image: '',\n      successMessage: '',\n      message: ''\n    };\n  },\n  methods: {\n    ...mapActions({\n      postCreateAction: 'postCreate'\n    }),\n    postCreate() {\n      try {\n        const userData = {\n          username: this.userName,\n          password: this.password\n        };\n        this.userLoginAction(userData).then(response => {\n          this.loginErrors.results = [];\n          if (response.data.status.code === 200) {\n            this.successMessage = '';\n            localStorage.setItem('token', response.data.results.token);\n            localStorage.setItem('userId', response.data.results.id);\n            localStorage.setItem('username', response.data.results.username);\n            window.scrollTo(0, 0);\n            this.successMessage = response.data.status.message;\n            setTimeout(() => {\n              this.successMessage = '';\n            }, 3000);\n            setTimeout(() => this.$router.push({\n              path: '/user/list'\n            }), 3000);\n            //return this.$router.push('/')\n          } else {\n            this.message = 'Some Error Occured. Can you please try again';\n            setTimeout(() => this.$router.push({\n              path: '/register'\n            }), 5000);\n\n            //return this.$router.push('/register')\n          }\n        });\n      } catch (error) {\n        console.log(error.response.data.results);\n        this.loginErrors = error.response.data.results;\n        // return this.$router.push('/register')\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      successMessage: 'getPostSuccess',\n      loginErrors: 'getLoginErrors'\n    })\n  }\n};","map":{"version":3,"mappings":";AA4CA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,OAAOC,eAAc,MAAQ,kCAAiC;AAE9D,eAAe;EACXC,IAAI,EAAC,YAAY;EACjBC,UAAU,EAAC;IACTF;EACF,CAAC;EACDG,IAAI,GAAE;IACF,OAAM;MACFC,YAAW,EAAI,cAAc;MAC7BC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdC,KAAK,EAAC,EAAE;MACRC,cAAc,EAAC,EAAE;MACjBC,OAAO,EAAC;IACZ;EACJ,CAAC;EACDC,OAAO,EAAC;IACN,GAAGZ,UAAU,CAAC;MACZa,gBAAgB,EAAE;IACpB,CAAC,CAAC;IACFC,UAAU,GAAE;MAER,IAAG;QACD,MAAMC,QAAO,GAAI;UACfC,QAAQ,EAAE,IAAI,CAACC,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC;QACD,IAAI,CAACC,eAAe,CAACJ,QAAQ,CAAC,CAACK,IAAI,CAAEC,QAAQ,IAAK;UAChD,IAAI,CAACC,WAAW,CAACC,OAAO,GAAC,EAAC;UAE1B,IAAIF,QAAQ,CAAChB,IAAI,CAACmB,MAAM,CAACC,IAAG,KAAM,GAAG,EAAC;YACpC,IAAI,CAACf,cAAa,GAAG,EAAC;YACtBgB,YAAY,CAACC,OAAO,CAAC,OAAO,EAACN,QAAQ,CAAChB,IAAI,CAACkB,OAAO,CAACK,KAAK;YACxDF,YAAY,CAACC,OAAO,CAAC,QAAQ,EAACN,QAAQ,CAAChB,IAAI,CAACkB,OAAO,CAACM,EAAE;YACtDH,YAAY,CAACC,OAAO,CAAC,UAAU,EAACN,QAAQ,CAAChB,IAAI,CAACkB,OAAO,CAACP,QAAQ;YAC9Dc,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;YACrB,IAAI,CAACrB,cAAa,GAAGW,QAAQ,CAAChB,IAAI,CAACmB,MAAM,CAACb,OAAM;YAChDqB,UAAU,CAAC,MAAM;cACf,IAAI,CAACtB,cAAa,GAAI,EAAE;YAC1B,CAAC,EAAE,IAAI,CAAC;YACRsB,UAAU,CAAE,MAAM,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;cAAEC,IAAI,EAAE;YAAY,CAAC,CAAC,EAAE,IAAI,CAAC;YACjE;UACF,CAAC,MAAI;YACH,IAAI,CAACxB,OAAM,GAAG,8CAA6C;YAE3DqB,UAAU,CAAE,MAAM,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;cAAEC,IAAI,EAAE;YAAW,CAAC,CAAC,EAAE,IAAI,CAAC;;YAEhE;UAEF;QACF,CAAC,CAAC;MACJ,EACF,OAAMC,KAAK,EAAC;QACVC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACf,QAAQ,CAAChB,IAAI,CAACkB,OAAO;QACvC,IAAI,CAACD,WAAW,GAACc,KAAK,CAACf,QAAQ,CAAChB,IAAI,CAACkB,OAAM;QAC3C;MACF;IAIF;EACF,CAAC;;EACDgB,QAAQ,EAAE;IACV,GAAGtC,UAAU,CAAC;MACVS,cAAc,EAAE,gBAAgB;MAChCY,WAAW,EAAE;IACf,CAAC;EACH;AACJ","names":["mapActions","mapGetters","HeaderComponent","name","components","data","headingValue","title","description","image","successMessage","message","methods","postCreateAction","postCreate","userData","username","userName","password","userLoginAction","then","response","loginErrors","results","status","code","localStorage","setItem","token","id","window","scrollTo","setTimeout","$router","push","path","error","console","log","computed"],"sourceRoot":"","sources":["/home/shilpa/Public/my-work/code/demo-authentication/authenticate-vue/src/views/PostCreate.vue"],"sourcesContent":["<template>\n <HeaderComponent :heading=\"headingValue\" />\n\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n            <p v-if=\"successMessage\" class=\"h4 text-success \">{{successMessage}}</p>\n            <p v-if=\"message\" class=\"h4 text-primary \">{{message}}</p>\n\n      </div>\n\n    </div>\n  </div>\n          \n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n        <form @submit.prevent=\"postCreate\">\n          <div class=\"mb-2\">\n            <input v-model=\"userName\" type=\"text\" class=\"form-control\" placeholder=\"UserName\">\n            <p v-if=\"loginErrors.results && loginErrors.results.username\" class=\"h6 text-danger \">{{loginErrors.results.username[0]}}</p>\n          </div>\n          <div class=\"mb-2\">\n            \n            <input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\">\n            <p v-if=\"loginErrors.results && loginErrors.results.password\" class=\"h6 text-danger \">{{loginErrors.results.password[0]}}</p>\n          \n          </div>\n          \n          \n          <div class=\"mb-2\">\n            <input type=\"submit\" class=\"btn btn-success\" value=\"Login\">\n          </div>\n        </form>\n      </div>\n      <div class=\"col-md-4\">\n        <img class=\"user-img-big\" src=\"https://w7.pngwing.com/pngs/340/956/png-transparent-profile-user-icon-computer-icons-user-profile-head-ico-miscellaneous-black-desktop-wallpaper.png\" >\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport HeaderComponent from  '@/components/HeaderComponent.vue'\n\nexport default {\n    name:'PostCreate',\n    components:{\n      HeaderComponent\n    },\n    data(){\n        return{\n            headingValue : \"Add New Post\",\n            title:'',\n            description:'',\n            image:'',\n            successMessage:'',\n            message:''\n        }\n    },\n    methods:{\n      ...mapActions({\n        postCreateAction: 'postCreate',\n      }),\n      postCreate(){\n  \n          try{\n            const userData = {\n              username: this.userName,\n              password: this.password,\n            };\n            this.userLoginAction(userData).then((response) => {\n              this.loginErrors.results=[]\n\n              if (response.data.status.code === 200){\n                this.successMessage =''\n                localStorage.setItem('token',response.data.results.token)\n                localStorage.setItem('userId',response.data.results.id)\n                localStorage.setItem('username',response.data.results.username)\n                window.scrollTo(0, 0);\n                this.successMessage =response.data.status.message\n                setTimeout(() => {\n                  this.successMessage = '';\n                }, 3000);\n                setTimeout( () => this.$router.push({ path: '/user/list'}), 3000);\n                //return this.$router.push('/')\n              }else{\n                this.message ='Some Error Occured. Can you please try again'\n                \n                setTimeout( () => this.$router.push({ path: '/register'}), 5000);\n\n                //return this.$router.push('/register')\n\n              }\n            });\n          }\n        catch(error){\n          console.log(error.response.data.results)\n          this.loginErrors=error.response.data.results\n          // return this.$router.push('/register')\n        }\n        \n        \n\n      }\n    },\n    computed: {\n    ...mapGetters({\n        successMessage: 'getPostSuccess',\n        loginErrors: 'getLoginErrors',\n      }),\n    }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
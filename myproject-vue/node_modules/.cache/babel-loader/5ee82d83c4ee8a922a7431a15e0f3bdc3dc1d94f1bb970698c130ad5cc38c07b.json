{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*! Buttons for DataTables 2.3.3\n * Â©2016-2022 SpryMedia Ltd - datatables.net/license\n */\n\nimport $ from 'jquery';\nimport DataTable from 'datatables.net';\n\n// Used for namespacing events added to the document by each instance, so they\n// can be removed on destroy\nvar _instCounter = 0;\n\n// Button namespacing counter for namespacing events on individual buttons\nvar _buttonCounter = 0;\nvar _dtButtons = DataTable.ext.buttons;\n\n// Allow for jQuery slim\nfunction _fadeIn(el, duration, fn) {\n  if ($.fn.animate) {\n    el.stop().fadeIn(duration, fn);\n  } else {\n    el.css('display', 'block');\n    if (fn) {\n      fn.call(el);\n    }\n  }\n}\nfunction _fadeOut(el, duration, fn) {\n  if ($.fn.animate) {\n    el.stop().fadeOut(duration, fn);\n  } else {\n    el.css('display', 'none');\n    if (fn) {\n      fn.call(el);\n    }\n  }\n}\n\n/**\n * [Buttons description]\n * @param {[type]}\n * @param {[type]}\n */\nvar Buttons = function (dt, config) {\n  // If not created with a `new` keyword then we return a wrapper function that\n  // will take the settings object for a DT. This allows easy use of new instances\n  // with the `layout` option - e.g. `topLeft: $.fn.dataTable.Buttons( ... )`.\n  if (!(this instanceof Buttons)) {\n    return function (settings) {\n      return new Buttons(settings, dt).container();\n    };\n  }\n\n  // If there is no config set it to an empty object\n  if (typeof config === 'undefined') {\n    config = {};\n  }\n\n  // Allow a boolean true for defaults\n  if (config === true) {\n    config = {};\n  }\n\n  // For easy configuration of buttons an array can be given\n  if (Array.isArray(config)) {\n    config = {\n      buttons: config\n    };\n  }\n  this.c = $.extend(true, {}, Buttons.defaults, config);\n\n  // Don't want a deep copy for the buttons\n  if (config.buttons) {\n    this.c.buttons = config.buttons;\n  }\n  this.s = {\n    dt: new DataTable.Api(dt),\n    buttons: [],\n    listenKeys: '',\n    namespace: 'dtb' + _instCounter++\n  };\n  this.dom = {\n    container: $('<' + this.c.dom.container.tag + '/>').addClass(this.c.dom.container.className)\n  };\n  this._constructor();\n};\n$.extend(Buttons.prototype, {\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   * Public methods\n   */\n\n  /**\n   * Get the action of a button\n   * @param  {int|string} Button index\n   * @return {function}\n   */ /**\n      * Set the action of a button\n      * @param  {node} node Button element\n      * @param  {function} action Function to set\n      * @return {Buttons} Self for chaining\n      */\n  action: function (node, action) {\n    var button = this._nodeToButton(node);\n    if (action === undefined) {\n      return button.conf.action;\n    }\n    button.conf.action = action;\n    return this;\n  },\n  /**\n   * Add an active class to the button to make to look active or get current\n   * active state.\n   * @param  {node} node Button element\n   * @param  {boolean} [flag] Enable / disable flag\n   * @return {Buttons} Self for chaining or boolean for getter\n   */\n  active: function (node, flag) {\n    var button = this._nodeToButton(node);\n    var klass = this.c.dom.button.active;\n    var jqNode = $(button.node);\n    if (flag === undefined) {\n      return jqNode.hasClass(klass);\n    }\n    jqNode.toggleClass(klass, flag === undefined ? true : flag);\n    return this;\n  },\n  /**\n   * Add a new button\n   * @param {object} config Button configuration object, base string name or function\n   * @param {int|string} [idx] Button index for where to insert the button\n   * @param {boolean} [draw=true] Trigger a draw. Set a false when adding\n   *   lots of buttons, until the last button.\n   * @return {Buttons} Self for chaining\n   */\n  add: function (config, idx, draw) {\n    var buttons = this.s.buttons;\n    if (typeof idx === 'string') {\n      var split = idx.split('-');\n      var base = this.s;\n      for (var i = 0, ien = split.length - 1; i < ien; i++) {\n        base = base.buttons[split[i] * 1];\n      }\n      buttons = base.buttons;\n      idx = split[split.length - 1] * 1;\n    }\n    this._expandButton(buttons, config, config !== undefined ? config.split : undefined, (config === undefined || config.split === undefined || config.split.length === 0) && base !== undefined, false, idx);\n    if (draw === undefined || draw === true) {\n      this._draw();\n    }\n    return this;\n  },\n  /**\n   * Clear buttons from a collection and then insert new buttons\n   */\n  collectionRebuild: function (node, newButtons) {\n    var button = this._nodeToButton(node);\n    if (newButtons !== undefined) {\n      var i;\n      // Need to reverse the array\n      for (i = button.buttons.length - 1; i >= 0; i--) {\n        this.remove(button.buttons[i].node);\n      }\n      for (i = 0; i < newButtons.length; i++) {\n        var newBtn = newButtons[i];\n        this._expandButton(button.buttons, newBtn, newBtn !== undefined && newBtn.config !== undefined && newBtn.config.split !== undefined, true, newBtn.parentConf !== undefined && newBtn.parentConf.split !== undefined, i, newBtn.parentConf);\n      }\n    }\n    this._draw(button.collection, button.buttons);\n  },\n  /**\n   * Get the container node for the buttons\n   * @return {jQuery} Buttons node\n   */\n  container: function () {\n    return this.dom.container;\n  },\n  /**\n   * Disable a button\n   * @param  {node} node Button node\n   * @return {Buttons} Self for chaining\n   */\n  disable: function (node) {\n    var button = this._nodeToButton(node);\n    $(button.node).addClass(this.c.dom.button.disabled).prop('disabled', true);\n    return this;\n  },\n  /**\n   * Destroy the instance, cleaning up event handlers and removing DOM\n   * elements\n   * @return {Buttons} Self for chaining\n   */\n  destroy: function () {\n    // Key event listener\n    $('body').off('keyup.' + this.s.namespace);\n\n    // Individual button destroy (so they can remove their own events if\n    // needed). Take a copy as the array is modified by `remove`\n    var buttons = this.s.buttons.slice();\n    var i, ien;\n    for (i = 0, ien = buttons.length; i < ien; i++) {\n      this.remove(buttons[i].node);\n    }\n\n    // Container\n    this.dom.container.remove();\n\n    // Remove from the settings object collection\n    var buttonInsts = this.s.dt.settings()[0];\n    for (i = 0, ien = buttonInsts.length; i < ien; i++) {\n      if (buttonInsts.inst === this) {\n        buttonInsts.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  },\n  /**\n   * Enable / disable a button\n   * @param  {node} node Button node\n   * @param  {boolean} [flag=true] Enable / disable flag\n   * @return {Buttons} Self for chaining\n   */\n  enable: function (node, flag) {\n    if (flag === false) {\n      return this.disable(node);\n    }\n    var button = this._nodeToButton(node);\n    $(button.node).removeClass(this.c.dom.button.disabled).prop('disabled', false);\n    return this;\n  },\n  /**\n   * Get a button's index\n   * \n   * This is internally recursive\n   * @param {element} node Button to get the index of\n   * @return {string} Button index\n   */\n  index: function (node, nested, buttons) {\n    if (!nested) {\n      nested = '';\n      buttons = this.s.buttons;\n    }\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      var inner = buttons[i].buttons;\n      if (buttons[i].node === node) {\n        return nested + i;\n      }\n      if (inner && inner.length) {\n        var match = this.index(node, i + '-', inner);\n        if (match !== null) {\n          return match;\n        }\n      }\n    }\n    return null;\n  },\n  /**\n   * Get the instance name for the button set selector\n   * @return {string} Instance name\n   */\n  name: function () {\n    return this.c.name;\n  },\n  /**\n   * Get a button's node of the buttons container if no button is given\n   * @param  {node} [node] Button node\n   * @return {jQuery} Button element, or container\n   */\n  node: function (node) {\n    if (!node) {\n      return this.dom.container;\n    }\n    var button = this._nodeToButton(node);\n    return $(button.node);\n  },\n  /**\n   * Set / get a processing class on the selected button\n   * @param {element} node Triggering button node\n   * @param  {boolean} flag true to add, false to remove, undefined to get\n   * @return {boolean|Buttons} Getter value or this if a setter.\n   */\n  processing: function (node, flag) {\n    var dt = this.s.dt;\n    var button = this._nodeToButton(node);\n    if (flag === undefined) {\n      return $(button.node).hasClass('processing');\n    }\n    $(button.node).toggleClass('processing', flag);\n    $(dt.table().node()).triggerHandler('buttons-processing.dt', [flag, dt.button(node), dt, $(node), button.conf]);\n    return this;\n  },\n  /**\n   * Remove a button.\n   * @param  {node} node Button node\n   * @return {Buttons} Self for chaining\n   */\n  remove: function (node) {\n    var button = this._nodeToButton(node);\n    var host = this._nodeToHost(node);\n    var dt = this.s.dt;\n\n    // Remove any child buttons first\n    if (button.buttons.length) {\n      for (var i = button.buttons.length - 1; i >= 0; i--) {\n        this.remove(button.buttons[i].node);\n      }\n    }\n    button.conf.destroying = true;\n\n    // Allow the button to remove event handlers, etc\n    if (button.conf.destroy) {\n      button.conf.destroy.call(dt.button(node), dt, $(node), button.conf);\n    }\n    this._removeKey(button.conf);\n    $(button.node).remove();\n    var idx = $.inArray(button, host);\n    host.splice(idx, 1);\n    return this;\n  },\n  /**\n   * Get the text for a button\n   * @param  {int|string} node Button index\n   * @return {string} Button text\n   */ /**\n      * Set the text for a button\n      * @param  {int|string|function} node Button index\n      * @param  {string} label Text\n      * @return {Buttons} Self for chaining\n      */\n  text: function (node, label) {\n    var button = this._nodeToButton(node);\n    var buttonLiner = this.c.dom.collection.buttonLiner;\n    var linerTag = button.inCollection && buttonLiner && buttonLiner.tag ? buttonLiner.tag : this.c.dom.buttonLiner.tag;\n    var dt = this.s.dt;\n    var jqNode = $(button.node);\n    var text = function (opt) {\n      return typeof opt === 'function' ? opt(dt, jqNode, button.conf) : opt;\n    };\n    if (label === undefined) {\n      return text(button.conf.text);\n    }\n    button.conf.text = label;\n    if (linerTag) {\n      jqNode.children(linerTag).eq(0).filter(':not(.dt-down-arrow)').html(text(label));\n    } else {\n      jqNode.html(text(label));\n    }\n    return this;\n  },\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   * Constructor\n   */\n\n  /**\n   * Buttons constructor\n   * @private\n   */\n  _constructor: function () {\n    var that = this;\n    var dt = this.s.dt;\n    var dtSettings = dt.settings()[0];\n    var buttons = this.c.buttons;\n    if (!dtSettings._buttons) {\n      dtSettings._buttons = [];\n    }\n    dtSettings._buttons.push({\n      inst: this,\n      name: this.c.name\n    });\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      this.add(buttons[i]);\n    }\n    dt.on('destroy', function (e, settings) {\n      if (settings === dtSettings) {\n        that.destroy();\n      }\n    });\n\n    // Global key event binding to listen for button keys\n    $('body').on('keyup.' + this.s.namespace, function (e) {\n      if (!document.activeElement || document.activeElement === document.body) {\n        // SUse a string of characters for fast lookup of if we need to\n        // handle this\n        var character = String.fromCharCode(e.keyCode).toLowerCase();\n        if (that.s.listenKeys.toLowerCase().indexOf(character) !== -1) {\n          that._keypress(character, e);\n        }\n      }\n    });\n  },\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   * Private methods\n   */\n\n  /**\n   * Add a new button to the key press listener\n   * @param {object} conf Resolved button configuration object\n   * @private\n   */\n  _addKey: function (conf) {\n    if (conf.key) {\n      this.s.listenKeys += $.isPlainObject(conf.key) ? conf.key.key : conf.key;\n    }\n  },\n  /**\n   * Insert the buttons into the container. Call without parameters!\n   * @param  {node} [container] Recursive only - Insert point\n   * @param  {array} [buttons] Recursive only - Buttons array\n   * @private\n   */\n  _draw: function (container, buttons) {\n    if (!container) {\n      container = this.dom.container;\n      buttons = this.s.buttons;\n    }\n    container.children().detach();\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      container.append(buttons[i].inserter);\n      container.append(' ');\n      if (buttons[i].buttons && buttons[i].buttons.length) {\n        this._draw(buttons[i].collection, buttons[i].buttons);\n      }\n    }\n  },\n  /**\n   * Create buttons from an array of buttons\n   * @param  {array} attachTo Buttons array to attach to\n   * @param  {object} button Button definition\n   * @param  {boolean} inCollection true if the button is in a collection\n   * @private\n   */\n  _expandButton: function (attachTo, button, split, inCollection, inSplit, attachPoint, parentConf) {\n    var dt = this.s.dt;\n    var buttonCounter = 0;\n    var isSplit = false;\n    var buttons = !Array.isArray(button) ? [button] : button;\n    if (button === undefined) {\n      buttons = !Array.isArray(split) ? [split] : split;\n    }\n    if (button !== undefined && button.split !== undefined) {\n      isSplit = true;\n    }\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      var conf = this._resolveExtends(buttons[i]);\n      if (!conf) {\n        continue;\n      }\n      if (conf.config !== undefined && conf.config.split) {\n        isSplit = true;\n      } else {\n        isSplit = false;\n      }\n\n      // If the configuration is an array, then expand the buttons at this\n      // point\n      if (Array.isArray(conf)) {\n        this._expandButton(attachTo, conf, built !== undefined && built.conf !== undefined ? built.conf.split : undefined, inCollection, parentConf !== undefined && parentConf.split !== undefined, attachPoint, parentConf);\n        continue;\n      }\n      var built = this._buildButton(conf, inCollection, conf.split !== undefined || conf.config !== undefined && conf.config.split !== undefined, inSplit);\n      if (!built) {\n        continue;\n      }\n      if (attachPoint !== undefined && attachPoint !== null) {\n        attachTo.splice(attachPoint, 0, built);\n        attachPoint++;\n      } else {\n        attachTo.push(built);\n      }\n      if (built.conf.buttons || built.conf.split) {\n        built.collection = $('<' + (isSplit ? this.c.dom.splitCollection.tag : this.c.dom.collection.tag) + '/>');\n        built.conf._collection = built.collection;\n        if (built.conf.split) {\n          for (var j = 0; j < built.conf.split.length; j++) {\n            if (typeof built.conf.split[j] === \"object\") {\n              built.conf.split[j].parent = parentConf;\n              if (built.conf.split[j].collectionLayout === undefined) {\n                built.conf.split[j].collectionLayout = built.conf.collectionLayout;\n              }\n              if (built.conf.split[j].dropup === undefined) {\n                built.conf.split[j].dropup = built.conf.dropup;\n              }\n              if (built.conf.split[j].fade === undefined) {\n                built.conf.split[j].fade = built.conf.fade;\n              }\n            }\n          }\n        } else {\n          $(built.node).append($('<span class=\"dt-down-arrow\">' + this.c.dom.splitDropdown.text + '</span>'));\n        }\n        this._expandButton(built.buttons, built.conf.buttons, built.conf.split, !isSplit, isSplit, attachPoint, built.conf);\n      }\n      built.conf.parent = parentConf;\n\n      // init call is made here, rather than buildButton as it needs to\n      // be selectable, and for that it needs to be in the buttons array\n      if (conf.init) {\n        conf.init.call(dt.button(built.node), dt, $(built.node), conf);\n      }\n      buttonCounter++;\n    }\n  },\n  /**\n   * Create an individual button\n   * @param  {object} config            Resolved button configuration\n   * @param  {boolean} inCollection `true` if a collection button\n   * @return {jQuery} Created button node (jQuery)\n   * @private\n   */\n  _buildButton: function (config, inCollection, isSplit, inSplit) {\n    var buttonDom = this.c.dom.button;\n    var linerDom = this.c.dom.buttonLiner;\n    var collectionDom = this.c.dom.collection;\n    var splitDom = this.c.dom.split;\n    var splitCollectionDom = this.c.dom.splitCollection;\n    var splitDropdownButton = this.c.dom.splitDropdownButton;\n    var dt = this.s.dt;\n    var text = function (opt) {\n      return typeof opt === 'function' ? opt(dt, button, config) : opt;\n    };\n\n    // Spacers don't do much other than insert an element into the DOM\n    if (config.spacer) {\n      var spacer = $('<span></span>').addClass('dt-button-spacer ' + config.style + ' ' + buttonDom.spacerClass).html(text(config.text));\n      return {\n        conf: config,\n        node: spacer,\n        inserter: spacer,\n        buttons: [],\n        inCollection: inCollection,\n        isSplit: isSplit,\n        inSplit: inSplit,\n        collection: null\n      };\n    }\n    if (!isSplit && inSplit && splitCollectionDom) {\n      buttonDom = splitDropdownButton;\n    } else if (!isSplit && inCollection && collectionDom.button) {\n      buttonDom = collectionDom.button;\n    }\n    if (!isSplit && inSplit && splitCollectionDom.buttonLiner) {\n      linerDom = splitCollectionDom.buttonLiner;\n    } else if (!isSplit && inCollection && collectionDom.buttonLiner) {\n      linerDom = collectionDom.buttonLiner;\n    }\n\n    // Make sure that the button is available based on whatever requirements\n    // it has. For example, PDF button require pdfmake\n    if (config.available && !config.available(dt, config) && !config.hasOwnProperty('html')) {\n      return false;\n    }\n    var button;\n    if (!config.hasOwnProperty('html')) {\n      var action = function (e, dt, button, config) {\n        config.action.call(dt.button(button), e, dt, button, config);\n        $(dt.table().node()).triggerHandler('buttons-action.dt', [dt.button(button), dt, button, config]);\n      };\n      var tag = config.tag || buttonDom.tag;\n      var clickBlurs = config.clickBlurs === undefined ? true : config.clickBlurs;\n      button = $('<' + tag + '/>').addClass(buttonDom.className).addClass(inSplit ? this.c.dom.splitDropdownButton.className : '').attr('tabindex', this.s.dt.settings()[0].iTabIndex).attr('aria-controls', this.s.dt.table().node().id).on('click.dtb', function (e) {\n        e.preventDefault();\n        if (!button.hasClass(buttonDom.disabled) && config.action) {\n          action(e, dt, button, config);\n        }\n        if (clickBlurs) {\n          button.trigger('blur');\n        }\n      }).on('keypress.dtb', function (e) {\n        if (e.keyCode === 13) {\n          e.preventDefault();\n          if (!button.hasClass(buttonDom.disabled) && config.action) {\n            action(e, dt, button, config);\n          }\n        }\n      });\n\n      // Make `a` tags act like a link\n      if (tag.toLowerCase() === 'a') {\n        button.attr('href', '#');\n      }\n\n      // Button tags should have `type=button` so they don't have any default behaviour\n      if (tag.toLowerCase() === 'button') {\n        button.attr('type', 'button');\n      }\n      if (linerDom.tag) {\n        var liner = $('<' + linerDom.tag + '/>').html(text(config.text)).addClass(linerDom.className);\n        if (linerDom.tag.toLowerCase() === 'a') {\n          liner.attr('href', '#');\n        }\n        button.append(liner);\n      } else {\n        button.html(text(config.text));\n      }\n      if (config.enabled === false) {\n        button.addClass(buttonDom.disabled);\n      }\n      if (config.className) {\n        button.addClass(config.className);\n      }\n      if (config.titleAttr) {\n        button.attr('title', text(config.titleAttr));\n      }\n      if (config.attr) {\n        button.attr(config.attr);\n      }\n      if (!config.namespace) {\n        config.namespace = '.dt-button-' + _buttonCounter++;\n      }\n      if (config.config !== undefined && config.config.split) {\n        config.split = config.config.split;\n      }\n    } else {\n      button = $(config.html);\n    }\n    var buttonContainer = this.c.dom.buttonContainer;\n    var inserter;\n    if (buttonContainer && buttonContainer.tag) {\n      inserter = $('<' + buttonContainer.tag + '/>').addClass(buttonContainer.className).append(button);\n    } else {\n      inserter = button;\n    }\n    this._addKey(config);\n\n    // Style integration callback for DOM manipulation\n    // Note that this is _not_ documented. It is currently\n    // for style integration only\n    if (this.c.buttonCreated) {\n      inserter = this.c.buttonCreated(config, inserter);\n    }\n    var splitDiv;\n    if (isSplit) {\n      splitDiv = $('<div/>').addClass(this.c.dom.splitWrapper.className);\n      splitDiv.append(button);\n      var dropButtonConfig = $.extend(config, {\n        text: this.c.dom.splitDropdown.text,\n        className: this.c.dom.splitDropdown.className,\n        closeButton: false,\n        attr: {\n          'aria-haspopup': 'dialog',\n          'aria-expanded': false\n        },\n        align: this.c.dom.splitDropdown.align,\n        splitAlignClass: this.c.dom.splitDropdown.splitAlignClass\n      });\n      this._addKey(dropButtonConfig);\n      var splitAction = function (e, dt, button, config) {\n        _dtButtons.split.action.call(dt.button(splitDiv), e, dt, button, config);\n        $(dt.table().node()).triggerHandler('buttons-action.dt', [dt.button(button), dt, button, config]);\n        button.attr('aria-expanded', true);\n      };\n      var dropButton = $('<button class=\"' + this.c.dom.splitDropdown.className + ' dt-button\"><span class=\"dt-btn-split-drop-arrow\">' + this.c.dom.splitDropdown.text + '</span></button>').on('click.dtb', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!dropButton.hasClass(buttonDom.disabled)) {\n          splitAction(e, dt, dropButton, dropButtonConfig);\n        }\n        if (clickBlurs) {\n          dropButton.trigger('blur');\n        }\n      }).on('keypress.dtb', function (e) {\n        if (e.keyCode === 13) {\n          e.preventDefault();\n          if (!dropButton.hasClass(buttonDom.disabled)) {\n            splitAction(e, dt, dropButton, dropButtonConfig);\n          }\n        }\n      });\n      if (config.split.length === 0) {\n        dropButton.addClass('dtb-hide-drop');\n      }\n      splitDiv.append(dropButton).attr(dropButtonConfig.attr);\n    }\n    return {\n      conf: config,\n      node: isSplit ? splitDiv.get(0) : button.get(0),\n      inserter: isSplit ? splitDiv : inserter,\n      buttons: [],\n      inCollection: inCollection,\n      isSplit: isSplit,\n      inSplit: inSplit,\n      collection: null\n    };\n  },\n  /**\n   * Get the button object from a node (recursive)\n   * @param  {node} node Button node\n   * @param  {array} [buttons] Button array, uses base if not defined\n   * @return {object} Button object\n   * @private\n   */\n  _nodeToButton: function (node, buttons) {\n    if (!buttons) {\n      buttons = this.s.buttons;\n    }\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      if (buttons[i].node === node) {\n        return buttons[i];\n      }\n      if (buttons[i].buttons.length) {\n        var ret = this._nodeToButton(node, buttons[i].buttons);\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  /**\n   * Get container array for a button from a button node (recursive)\n   * @param  {node} node Button node\n   * @param  {array} [buttons] Button array, uses base if not defined\n   * @return {array} Button's host array\n   * @private\n   */\n  _nodeToHost: function (node, buttons) {\n    if (!buttons) {\n      buttons = this.s.buttons;\n    }\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      if (buttons[i].node === node) {\n        return buttons;\n      }\n      if (buttons[i].buttons.length) {\n        var ret = this._nodeToHost(node, buttons[i].buttons);\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  /**\n   * Handle a key press - determine if any button's key configured matches\n   * what was typed and trigger the action if so.\n   * @param  {string} character The character pressed\n   * @param  {object} e Key event that triggered this call\n   * @private\n   */\n  _keypress: function (character, e) {\n    // Check if this button press already activated on another instance of Buttons\n    if (e._buttonsHandled) {\n      return;\n    }\n    var run = function (conf, node) {\n      if (!conf.key) {\n        return;\n      }\n      if (conf.key === character) {\n        e._buttonsHandled = true;\n        $(node).click();\n      } else if ($.isPlainObject(conf.key)) {\n        if (conf.key.key !== character) {\n          return;\n        }\n        if (conf.key.shiftKey && !e.shiftKey) {\n          return;\n        }\n        if (conf.key.altKey && !e.altKey) {\n          return;\n        }\n        if (conf.key.ctrlKey && !e.ctrlKey) {\n          return;\n        }\n        if (conf.key.metaKey && !e.metaKey) {\n          return;\n        }\n\n        // Made it this far - it is good\n        e._buttonsHandled = true;\n        $(node).click();\n      }\n    };\n    var recurse = function (a) {\n      for (var i = 0, ien = a.length; i < ien; i++) {\n        run(a[i].conf, a[i].node);\n        if (a[i].buttons.length) {\n          recurse(a[i].buttons);\n        }\n      }\n    };\n    recurse(this.s.buttons);\n  },\n  /**\n   * Remove a key from the key listener for this instance (to be used when a\n   * button is removed)\n   * @param  {object} conf Button configuration\n   * @private\n   */\n  _removeKey: function (conf) {\n    if (conf.key) {\n      var character = $.isPlainObject(conf.key) ? conf.key.key : conf.key;\n\n      // Remove only one character, as multiple buttons could have the\n      // same listening key\n      var a = this.s.listenKeys.split('');\n      var idx = $.inArray(character, a);\n      a.splice(idx, 1);\n      this.s.listenKeys = a.join('');\n    }\n  },\n  /**\n   * Resolve a button configuration\n   * @param  {string|function|object} conf Button config to resolve\n   * @return {object} Button configuration\n   * @private\n   */\n  _resolveExtends: function (conf) {\n    var that = this;\n    var dt = this.s.dt;\n    var i, ien;\n    var toConfObject = function (base) {\n      var loop = 0;\n\n      // Loop until we have resolved to a button configuration, or an\n      // array of button configurations (which will be iterated\n      // separately)\n      while (!$.isPlainObject(base) && !Array.isArray(base)) {\n        if (base === undefined) {\n          return;\n        }\n        if (typeof base === 'function') {\n          base = base.call(that, dt, conf);\n          if (!base) {\n            return false;\n          }\n        } else if (typeof base === 'string') {\n          if (!_dtButtons[base]) {\n            return {\n              html: base\n            };\n          }\n          base = _dtButtons[base];\n        }\n        loop++;\n        if (loop > 30) {\n          // Protect against misconfiguration killing the browser\n          throw 'Buttons: Too many iterations';\n        }\n      }\n      return Array.isArray(base) ? base : $.extend({}, base);\n    };\n    conf = toConfObject(conf);\n    while (conf && conf.extend) {\n      // Use `toConfObject` in case the button definition being extended\n      // is itself a string or a function\n      if (!_dtButtons[conf.extend]) {\n        throw 'Cannot extend unknown button type: ' + conf.extend;\n      }\n      var objArray = toConfObject(_dtButtons[conf.extend]);\n      if (Array.isArray(objArray)) {\n        return objArray;\n      } else if (!objArray) {\n        // This is a little brutal as it might be possible to have a\n        // valid button without the extend, but if there is no extend\n        // then the host button would be acting in an undefined state\n        return false;\n      }\n\n      // Stash the current class name\n      var originalClassName = objArray.className;\n      if (conf.config !== undefined && objArray.config !== undefined) {\n        conf.config = $.extend({}, objArray.config, conf.config);\n      }\n      conf = $.extend({}, objArray, conf);\n\n      // The extend will have overwritten the original class name if the\n      // `conf` object also assigned a class, but we want to concatenate\n      // them so they are list that is combined from all extended buttons\n      if (originalClassName && conf.className !== originalClassName) {\n        conf.className = originalClassName + ' ' + conf.className;\n      }\n\n      // Buttons to be added to a collection  -gives the ability to define\n      // if buttons should be added to the start or end of a collection\n      var postfixButtons = conf.postfixButtons;\n      if (postfixButtons) {\n        if (!conf.buttons) {\n          conf.buttons = [];\n        }\n        for (i = 0, ien = postfixButtons.length; i < ien; i++) {\n          conf.buttons.push(postfixButtons[i]);\n        }\n        conf.postfixButtons = null;\n      }\n      var prefixButtons = conf.prefixButtons;\n      if (prefixButtons) {\n        if (!conf.buttons) {\n          conf.buttons = [];\n        }\n        for (i = 0, ien = prefixButtons.length; i < ien; i++) {\n          conf.buttons.splice(i, 0, prefixButtons[i]);\n        }\n        conf.prefixButtons = null;\n      }\n\n      // Although we want the `conf` object to overwrite almost all of\n      // the properties of the object being extended, the `extend`\n      // property should come from the object being extended\n      conf.extend = objArray.extend;\n    }\n    return conf;\n  },\n  /**\n   * Display (and replace if there is an existing one) a popover attached to a button\n   * @param {string|node} content Content to show\n   * @param {DataTable.Api} hostButton DT API instance of the button\n   * @param {object} inOpts Options (see object below for all options)\n   */\n  _popover: function (content, hostButton, inOpts, e) {\n    var dt = hostButton;\n    var buttonsSettings = this.c;\n    var closed = false;\n    var options = $.extend({\n      align: 'button-left',\n      // button-right, dt-container, split-left, split-right\n      autoClose: false,\n      background: true,\n      backgroundClassName: 'dt-button-background',\n      closeButton: true,\n      contentClassName: buttonsSettings.dom.collection.className,\n      collectionLayout: '',\n      collectionTitle: '',\n      dropup: false,\n      fade: 400,\n      popoverTitle: '',\n      rightAlignClassName: 'dt-button-right',\n      tag: buttonsSettings.dom.collection.tag\n    }, inOpts);\n    var hostNode = hostButton.node();\n    var close = function () {\n      closed = true;\n      _fadeOut($('.dt-button-collection'), options.fade, function () {\n        $(this).detach();\n      });\n      $(dt.buttons('[aria-haspopup=\"dialog\"][aria-expanded=\"true\"]').nodes()).attr('aria-expanded', 'false');\n      $('div.dt-button-background').off('click.dtb-collection');\n      Buttons.background(false, options.backgroundClassName, options.fade, hostNode);\n      $(window).off('resize.resize.dtb-collection');\n      $('body').off('.dtb-collection');\n      dt.off('buttons-action.b-internal');\n      dt.off('destroy');\n    };\n    if (content === false) {\n      close();\n      return;\n    }\n    var existingExpanded = $(dt.buttons('[aria-haspopup=\"dialog\"][aria-expanded=\"true\"]').nodes());\n    if (existingExpanded.length) {\n      // Reuse the current position if the button that was triggered is inside an existing collection\n      if (hostNode.closest('div.dt-button-collection').length) {\n        hostNode = existingExpanded.eq(0);\n      }\n      close();\n    }\n\n    // Try to be smart about the layout\n    var cnt = $('.dt-button', content).length;\n    var mod = '';\n    if (cnt === 3) {\n      mod = 'dtb-b3';\n    } else if (cnt === 2) {\n      mod = 'dtb-b2';\n    } else if (cnt === 1) {\n      mod = 'dtb-b1';\n    }\n    var display = $('<div/>').addClass('dt-button-collection').addClass(options.collectionLayout).addClass(options.splitAlignClass).addClass(mod).css('display', 'none').attr({\n      'aria-modal': true,\n      role: 'dialog'\n    });\n    content = $(content).addClass(options.contentClassName).attr('role', 'menu').appendTo(display);\n    hostNode.attr('aria-expanded', 'true');\n    if (hostNode.parents('body')[0] !== document.body) {\n      hostNode = document.body.lastChild;\n    }\n    if (options.popoverTitle) {\n      display.prepend('<div class=\"dt-button-collection-title\">' + options.popoverTitle + '</div>');\n    } else if (options.collectionTitle) {\n      display.prepend('<div class=\"dt-button-collection-title\">' + options.collectionTitle + '</div>');\n    }\n    if (options.closeButton) {\n      display.prepend('<div class=\"dtb-popover-close\">x</div>').addClass('dtb-collection-closeable');\n    }\n    _fadeIn(display.insertAfter(hostNode), options.fade);\n    var tableContainer = $(hostButton.table().container());\n    var position = display.css('position');\n    if (options.span === 'container' || options.align === 'dt-container') {\n      hostNode = hostNode.parent();\n      display.css('width', tableContainer.width());\n    }\n\n    // Align the popover relative to the DataTables container\n    // Useful for wide popovers such as SearchPanes\n    if (position === 'absolute') {\n      // Align relative to the host button\n      var offsetParent = $(hostNode[0].offsetParent);\n      var buttonPosition = hostNode.position();\n      var buttonOffset = hostNode.offset();\n      var tableSizes = offsetParent.offset();\n      var containerPosition = offsetParent.position();\n      var computed = window.getComputedStyle(offsetParent[0]);\n      tableSizes.height = offsetParent.outerHeight();\n      tableSizes.width = offsetParent.width() + parseFloat(computed.paddingLeft);\n      tableSizes.right = tableSizes.left + tableSizes.width;\n      tableSizes.bottom = tableSizes.top + tableSizes.height;\n\n      // Set the initial position so we can read height / width\n      var top = buttonPosition.top + hostNode.outerHeight();\n      var left = buttonPosition.left;\n      display.css({\n        top: top,\n        left: left\n      });\n\n      // Get the popover position\n      computed = window.getComputedStyle(display[0]);\n      var popoverSizes = display.offset();\n      popoverSizes.height = display.outerHeight();\n      popoverSizes.width = display.outerWidth();\n      popoverSizes.right = popoverSizes.left + popoverSizes.width;\n      popoverSizes.bottom = popoverSizes.top + popoverSizes.height;\n      popoverSizes.marginTop = parseFloat(computed.marginTop);\n      popoverSizes.marginBottom = parseFloat(computed.marginBottom);\n\n      // First position per the class requirements - pop up and right align\n      if (options.dropup) {\n        top = buttonPosition.top - popoverSizes.height - popoverSizes.marginTop - popoverSizes.marginBottom;\n      }\n      if (options.align === 'button-right' || display.hasClass(options.rightAlignClassName)) {\n        left = buttonPosition.left - popoverSizes.width + hostNode.outerWidth();\n      }\n\n      // Container alignment - make sure it doesn't overflow the table container\n      if (options.align === 'dt-container' || options.align === 'container') {\n        if (left < buttonPosition.left) {\n          left = -buttonPosition.left;\n        }\n        if (left + popoverSizes.width > tableSizes.width) {\n          left = tableSizes.width - popoverSizes.width;\n        }\n      }\n\n      // Window adjustment\n      if (containerPosition.left + left + popoverSizes.width > $(window).width()) {\n        // Overflowing the document to the right\n        left = $(window).width() - popoverSizes.width - containerPosition.left;\n      }\n      if (buttonOffset.left + left < 0) {\n        // Off to the left of the document\n        left = -buttonOffset.left;\n      }\n      if (containerPosition.top + top + popoverSizes.height > $(window).height() + $(window).scrollTop()) {\n        // Pop up if otherwise we'd need the user to scroll down\n        top = buttonPosition.top - popoverSizes.height - popoverSizes.marginTop - popoverSizes.marginBottom;\n      }\n      if (containerPosition.top + top < $(window).scrollTop()) {\n        // Correction for when the top is beyond the top of the page\n        top = buttonPosition.top + hostNode.outerHeight();\n      }\n\n      // Calculations all done - now set it\n      display.css({\n        top: top,\n        left: left\n      });\n    } else {\n      // Fix position - centre on screen\n      var position = function () {\n        var half = $(window).height() / 2;\n        var top = display.height() / 2;\n        if (top > half) {\n          top = half;\n        }\n        display.css('marginTop', top * -1);\n      };\n      position();\n      $(window).on('resize.dtb-collection', function () {\n        position();\n      });\n    }\n    if (options.background) {\n      Buttons.background(true, options.backgroundClassName, options.fade, options.backgroundHost || hostNode);\n    }\n\n    // This is bonkers, but if we don't have a click listener on the\n    // background element, iOS Safari will ignore the body click\n    // listener below. An empty function here is all that is\n    // required to make it work...\n    $('div.dt-button-background').on('click.dtb-collection', function () {});\n    if (options.autoClose) {\n      setTimeout(function () {\n        dt.on('buttons-action.b-internal', function (e, btn, dt, node) {\n          if (node[0] === hostNode[0]) {\n            return;\n          }\n          close();\n        });\n      }, 0);\n    }\n    $(display).trigger('buttons-popover.dt');\n    dt.on('destroy', close);\n    setTimeout(function () {\n      closed = false;\n      $('body').on('click.dtb-collection', function (e) {\n        if (closed) {\n          return;\n        }\n\n        // andSelf is deprecated in jQ1.8, but we want 1.7 compat\n        var back = $.fn.addBack ? 'addBack' : 'andSelf';\n        var parent = $(e.target).parent()[0];\n        if (!$(e.target).parents()[back]().filter(content).length && !$(parent).hasClass('dt-buttons') || $(e.target).hasClass('dt-button-background')) {\n          close();\n        }\n      }).on('keyup.dtb-collection', function (e) {\n        if (e.keyCode === 27) {\n          close();\n        }\n      }).on('keydown.dtb-collection', function (e) {\n        // Focus trap for tab key\n        var elements = $('a, button', content);\n        var active = document.activeElement;\n        if (e.keyCode !== 9) {\n          // tab\n          return;\n        }\n        if (elements.index(active) === -1) {\n          // If current focus is not inside the popover\n          elements.first().focus();\n          e.preventDefault();\n        } else if (e.shiftKey) {\n          // Reverse tabbing order when shift key is pressed\n          if (active === elements[0]) {\n            elements.last().focus();\n            e.preventDefault();\n          }\n        } else {\n          if (active === elements.last()[0]) {\n            elements.first().focus();\n            e.preventDefault();\n          }\n        }\n      });\n    }, 0);\n  }\n});\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * Statics\n */\n\n/**\n * Show / hide a background layer behind a collection\n * @param  {boolean} Flag to indicate if the background should be shown or\n *   hidden \n * @param  {string} Class to assign to the background\n * @static\n */\nButtons.background = function (show, className, fade, insertPoint) {\n  if (fade === undefined) {\n    fade = 400;\n  }\n  if (!insertPoint) {\n    insertPoint = document.body;\n  }\n  if (show) {\n    _fadeIn($('<div/>').addClass(className).css('display', 'none').insertAfter(insertPoint), fade);\n  } else {\n    _fadeOut($('div.' + className), fade, function () {\n      $(this).removeClass(className).remove();\n    });\n  }\n};\n\n/**\n * Instance selector - select Buttons instances based on an instance selector\n * value from the buttons assigned to a DataTable. This is only useful if\n * multiple instances are attached to a DataTable.\n * @param  {string|int|array} Instance selector - see `instance-selector`\n *   documentation on the DataTables site\n * @param  {array} Button instance array that was attached to the DataTables\n *   settings object\n * @return {array} Buttons instances\n * @static\n */\nButtons.instanceSelector = function (group, buttons) {\n  if (group === undefined || group === null) {\n    return $.map(buttons, function (v) {\n      return v.inst;\n    });\n  }\n  var ret = [];\n  var names = $.map(buttons, function (v) {\n    return v.name;\n  });\n\n  // Flatten the group selector into an array of single options\n  var process = function (input) {\n    if (Array.isArray(input)) {\n      for (var i = 0, ien = input.length; i < ien; i++) {\n        process(input[i]);\n      }\n      return;\n    }\n    if (typeof input === 'string') {\n      if (input.indexOf(',') !== -1) {\n        // String selector, list of names\n        process(input.split(','));\n      } else {\n        // String selector individual name\n        var idx = $.inArray(input.trim(), names);\n        if (idx !== -1) {\n          ret.push(buttons[idx].inst);\n        }\n      }\n    } else if (typeof input === 'number') {\n      // Index selector\n      ret.push(buttons[input].inst);\n    } else if (typeof input === 'object') {\n      // Actual instance selector\n      ret.push(input);\n    }\n  };\n  process(group);\n  return ret;\n};\n\n/**\n * Button selector - select one or more buttons from a selector input so some\n * operation can be performed on them.\n * @param  {array} Button instances array that the selector should operate on\n * @param  {string|int|node|jQuery|array} Button selector - see\n *   `button-selector` documentation on the DataTables site\n * @return {array} Array of objects containing `inst` and `idx` properties of\n *   the selected buttons so you know which instance each button belongs to.\n * @static\n */\nButtons.buttonSelector = function (insts, selector) {\n  var ret = [];\n  var nodeBuilder = function (a, buttons, baseIdx) {\n    var button;\n    var idx;\n    for (var i = 0, ien = buttons.length; i < ien; i++) {\n      button = buttons[i];\n      if (button) {\n        idx = baseIdx !== undefined ? baseIdx + i : i + '';\n        a.push({\n          node: button.node,\n          name: button.conf.name,\n          idx: idx\n        });\n        if (button.buttons) {\n          nodeBuilder(a, button.buttons, idx + '-');\n        }\n      }\n    }\n  };\n  var run = function (selector, inst) {\n    var i, ien;\n    var buttons = [];\n    nodeBuilder(buttons, inst.s.buttons);\n    var nodes = $.map(buttons, function (v) {\n      return v.node;\n    });\n    if (Array.isArray(selector) || selector instanceof $) {\n      for (i = 0, ien = selector.length; i < ien; i++) {\n        run(selector[i], inst);\n      }\n      return;\n    }\n    if (selector === null || selector === undefined || selector === '*') {\n      // Select all\n      for (i = 0, ien = buttons.length; i < ien; i++) {\n        ret.push({\n          inst: inst,\n          node: buttons[i].node\n        });\n      }\n    } else if (typeof selector === 'number') {\n      // Main button index selector\n      if (inst.s.buttons[selector]) {\n        ret.push({\n          inst: inst,\n          node: inst.s.buttons[selector].node\n        });\n      }\n    } else if (typeof selector === 'string') {\n      if (selector.indexOf(',') !== -1) {\n        // Split\n        var a = selector.split(',');\n        for (i = 0, ien = a.length; i < ien; i++) {\n          run(a[i].trim(), inst);\n        }\n      } else if (selector.match(/^\\d+(\\-\\d+)*$/)) {\n        // Sub-button index selector\n        var indexes = $.map(buttons, function (v) {\n          return v.idx;\n        });\n        ret.push({\n          inst: inst,\n          node: buttons[$.inArray(selector, indexes)].node\n        });\n      } else if (selector.indexOf(':name') !== -1) {\n        // Button name selector\n        var name = selector.replace(':name', '');\n        for (i = 0, ien = buttons.length; i < ien; i++) {\n          if (buttons[i].name === name) {\n            ret.push({\n              inst: inst,\n              node: buttons[i].node\n            });\n          }\n        }\n      } else {\n        // jQuery selector on the nodes\n        $(nodes).filter(selector).each(function () {\n          ret.push({\n            inst: inst,\n            node: this\n          });\n        });\n      }\n    } else if (typeof selector === 'object' && selector.nodeName) {\n      // Node selector\n      var idx = $.inArray(selector, nodes);\n      if (idx !== -1) {\n        ret.push({\n          inst: inst,\n          node: nodes[idx]\n        });\n      }\n    }\n  };\n  for (var i = 0, ien = insts.length; i < ien; i++) {\n    var inst = insts[i];\n    run(selector, inst);\n  }\n  return ret;\n};\n\n/**\n * Default function used for formatting output data.\n * @param {*} str Data to strip\n */\nButtons.stripData = function (str, config) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  // Always remove script tags\n  str = str.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '');\n\n  // Always remove comments\n  str = str.replace(/<!\\-\\-.*?\\-\\->/g, '');\n  if (!config || config.stripHtml) {\n    str = str.replace(/<[^>]*>/g, '');\n  }\n  if (!config || config.trim) {\n    str = str.replace(/^\\s+|\\s+$/g, '');\n  }\n  if (!config || config.stripNewlines) {\n    str = str.replace(/\\n/g, ' ');\n  }\n  if (!config || config.decodeEntities) {\n    _exportTextarea.innerHTML = str;\n    str = _exportTextarea.value;\n  }\n  return str;\n};\n\n/**\n * Buttons defaults. For full documentation, please refer to the docs/option\n * directory or the DataTables site.\n * @type {Object}\n * @static\n */\nButtons.defaults = {\n  buttons: ['copy', 'excel', 'csv', 'pdf', 'print'],\n  name: 'main',\n  tabIndex: 0,\n  dom: {\n    container: {\n      tag: 'div',\n      className: 'dt-buttons'\n    },\n    collection: {\n      tag: 'div',\n      className: ''\n    },\n    button: {\n      tag: 'button',\n      className: 'dt-button',\n      active: 'active',\n      disabled: 'disabled',\n      spacerClass: ''\n    },\n    buttonLiner: {\n      tag: 'span',\n      className: ''\n    },\n    split: {\n      tag: 'div',\n      className: 'dt-button-split'\n    },\n    splitWrapper: {\n      tag: 'div',\n      className: 'dt-btn-split-wrapper'\n    },\n    splitDropdown: {\n      tag: 'button',\n      text: '&#x25BC;',\n      className: 'dt-btn-split-drop',\n      align: 'split-right',\n      splitAlignClass: 'dt-button-split-left'\n    },\n    splitDropdownButton: {\n      tag: 'button',\n      className: 'dt-btn-split-drop-button dt-button'\n    },\n    splitCollection: {\n      tag: 'div',\n      className: 'dt-button-split-collection'\n    }\n  }\n};\n\n/**\n * Version information\n * @type {string}\n * @static\n */\nButtons.version = '2.3.3';\n$.extend(_dtButtons, {\n  collection: {\n    text: function (dt) {\n      return dt.i18n('buttons.collection', 'Collection');\n    },\n    className: 'buttons-collection',\n    closeButton: false,\n    init: function (dt, button, config) {\n      button.attr('aria-expanded', false);\n    },\n    action: function (e, dt, button, config) {\n      if (config._collection.parents('body').length) {\n        this.popover(false, config);\n      } else {\n        this.popover(config._collection, config);\n      }\n\n      // When activated using a key - auto focus on the\n      // first item in the popover\n      if (e.type === 'keypress') {\n        $('a, button', config._collection).eq(0).focus();\n      }\n    },\n    attr: {\n      'aria-haspopup': 'dialog'\n    }\n    // Also the popover options, defined in Buttons.popover\n  },\n\n  split: {\n    text: function (dt) {\n      return dt.i18n('buttons.split', 'Split');\n    },\n    className: 'buttons-split',\n    closeButton: false,\n    init: function (dt, button, config) {\n      return button.attr('aria-expanded', false);\n    },\n    action: function (e, dt, button, config) {\n      this.popover(config._collection, config);\n    },\n    attr: {\n      'aria-haspopup': 'dialog'\n    }\n    // Also the popover options, defined in Buttons.popover\n  },\n\n  copy: function (dt, conf) {\n    if (_dtButtons.copyHtml5) {\n      return 'copyHtml5';\n    }\n  },\n  csv: function (dt, conf) {\n    if (_dtButtons.csvHtml5 && _dtButtons.csvHtml5.available(dt, conf)) {\n      return 'csvHtml5';\n    }\n  },\n  excel: function (dt, conf) {\n    if (_dtButtons.excelHtml5 && _dtButtons.excelHtml5.available(dt, conf)) {\n      return 'excelHtml5';\n    }\n  },\n  pdf: function (dt, conf) {\n    if (_dtButtons.pdfHtml5 && _dtButtons.pdfHtml5.available(dt, conf)) {\n      return 'pdfHtml5';\n    }\n  },\n  pageLength: function (dt) {\n    var lengthMenu = dt.settings()[0].aLengthMenu;\n    var vals = [];\n    var lang = [];\n    var text = function (dt) {\n      return dt.i18n('buttons.pageLength', {\n        \"-1\": 'Show all rows',\n        _: 'Show %d rows'\n      }, dt.page.len());\n    };\n\n    // Support for DataTables 1.x 2D array\n    if (Array.isArray(lengthMenu[0])) {\n      vals = lengthMenu[0];\n      lang = lengthMenu[1];\n    } else {\n      for (var i = 0; i < lengthMenu.length; i++) {\n        var option = lengthMenu[i];\n\n        // Support for DataTables 2 object in the array\n        if ($.isPlainObject(option)) {\n          vals.push(option.value);\n          lang.push(option.label);\n        } else {\n          vals.push(option);\n          lang.push(option);\n        }\n      }\n    }\n    return {\n      extend: 'collection',\n      text: text,\n      className: 'buttons-page-length',\n      autoClose: true,\n      buttons: $.map(vals, function (val, i) {\n        return {\n          text: lang[i],\n          className: 'button-page-length',\n          action: function (e, dt) {\n            dt.page.len(val).draw();\n          },\n          init: function (dt, node, conf) {\n            var that = this;\n            var fn = function () {\n              that.active(dt.page.len() === val);\n            };\n            dt.on('length.dt' + conf.namespace, fn);\n            fn();\n          },\n          destroy: function (dt, node, conf) {\n            dt.off('length.dt' + conf.namespace);\n          }\n        };\n      }),\n      init: function (dt, node, conf) {\n        var that = this;\n        dt.on('length.dt' + conf.namespace, function () {\n          that.text(conf.text);\n        });\n      },\n      destroy: function (dt, node, conf) {\n        dt.off('length.dt' + conf.namespace);\n      }\n    };\n  },\n  spacer: {\n    style: 'empty',\n    spacer: true,\n    text: function (dt) {\n      return dt.i18n('buttons.spacer', '');\n    }\n  }\n});\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables API\n *\n * For complete documentation, please refer to the docs/api directory or the\n * DataTables site\n */\n\n// Buttons group and individual button selector\nDataTable.Api.register('buttons()', function (group, selector) {\n  // Argument shifting\n  if (selector === undefined) {\n    selector = group;\n    group = undefined;\n  }\n  this.selector.buttonGroup = group;\n  var res = this.iterator(true, 'table', function (ctx) {\n    if (ctx._buttons) {\n      return Buttons.buttonSelector(Buttons.instanceSelector(group, ctx._buttons), selector);\n    }\n  }, true);\n  res._groupSelector = group;\n  return res;\n});\n\n// Individual button selector\nDataTable.Api.register('button()', function (group, selector) {\n  // just run buttons() and truncate\n  var buttons = this.buttons(group, selector);\n  if (buttons.length > 1) {\n    buttons.splice(1, buttons.length);\n  }\n  return buttons;\n});\n\n// Active buttons\nDataTable.Api.registerPlural('buttons().active()', 'button().active()', function (flag) {\n  if (flag === undefined) {\n    return this.map(function (set) {\n      return set.inst.active(set.node);\n    });\n  }\n  return this.each(function (set) {\n    set.inst.active(set.node, flag);\n  });\n});\n\n// Get / set button action\nDataTable.Api.registerPlural('buttons().action()', 'button().action()', function (action) {\n  if (action === undefined) {\n    return this.map(function (set) {\n      return set.inst.action(set.node);\n    });\n  }\n  return this.each(function (set) {\n    set.inst.action(set.node, action);\n  });\n});\n\n// Collection control\nDataTable.Api.registerPlural('buttons().collectionRebuild()', 'button().collectionRebuild()', function (buttons) {\n  return this.each(function (set) {\n    for (var i = 0; i < buttons.length; i++) {\n      if (typeof buttons[i] === 'object') {\n        buttons[i].parentConf = set;\n      }\n    }\n    set.inst.collectionRebuild(set.node, buttons);\n  });\n});\n\n// Enable / disable buttons\nDataTable.Api.register(['buttons().enable()', 'button().enable()'], function (flag) {\n  return this.each(function (set) {\n    set.inst.enable(set.node, flag);\n  });\n});\n\n// Disable buttons\nDataTable.Api.register(['buttons().disable()', 'button().disable()'], function () {\n  return this.each(function (set) {\n    set.inst.disable(set.node);\n  });\n});\n\n// Button index\nDataTable.Api.register('button().index()', function () {\n  var idx = null;\n  this.each(function (set) {\n    var res = set.inst.index(set.node);\n    if (res !== null) {\n      idx = res;\n    }\n  });\n  return idx;\n});\n\n// Get button nodes\nDataTable.Api.registerPlural('buttons().nodes()', 'button().node()', function () {\n  var jq = $();\n\n  // jQuery will automatically reduce duplicates to a single entry\n  $(this.each(function (set) {\n    jq = jq.add(set.inst.node(set.node));\n  }));\n  return jq;\n});\n\n// Get / set button processing state\nDataTable.Api.registerPlural('buttons().processing()', 'button().processing()', function (flag) {\n  if (flag === undefined) {\n    return this.map(function (set) {\n      return set.inst.processing(set.node);\n    });\n  }\n  return this.each(function (set) {\n    set.inst.processing(set.node, flag);\n  });\n});\n\n// Get / set button text (i.e. the button labels)\nDataTable.Api.registerPlural('buttons().text()', 'button().text()', function (label) {\n  if (label === undefined) {\n    return this.map(function (set) {\n      return set.inst.text(set.node);\n    });\n  }\n  return this.each(function (set) {\n    set.inst.text(set.node, label);\n  });\n});\n\n// Trigger a button's action\nDataTable.Api.registerPlural('buttons().trigger()', 'button().trigger()', function () {\n  return this.each(function (set) {\n    set.inst.node(set.node).trigger('click');\n  });\n});\n\n// Button resolver to the popover\nDataTable.Api.register('button().popover()', function (content, options) {\n  return this.map(function (set) {\n    return set.inst._popover(content, this.button(this[0].node), options);\n  });\n});\n\n// Get the container elements\nDataTable.Api.register('buttons().containers()', function () {\n  var jq = $();\n  var groupSelector = this._groupSelector;\n\n  // We need to use the group selector directly, since if there are no buttons\n  // the result set will be empty\n  this.iterator(true, 'table', function (ctx) {\n    if (ctx._buttons) {\n      var insts = Buttons.instanceSelector(groupSelector, ctx._buttons);\n      for (var i = 0, ien = insts.length; i < ien; i++) {\n        jq = jq.add(insts[i].container());\n      }\n    }\n  });\n  return jq;\n});\nDataTable.Api.register('buttons().container()', function () {\n  // API level of nesting is `buttons()` so we can zip into the containers method\n  return this.containers().eq(0);\n});\n\n// Add a new button\nDataTable.Api.register('button().add()', function (idx, conf, draw) {\n  var ctx = this.context;\n\n  // Don't use `this` as it could be empty - select the instances directly\n  if (ctx.length) {\n    var inst = Buttons.instanceSelector(this._groupSelector, ctx[0]._buttons);\n    if (inst.length) {\n      inst[0].add(conf, idx, draw);\n    }\n  }\n  return this.button(this._groupSelector, idx);\n});\n\n// Destroy the button sets selected\nDataTable.Api.register('buttons().destroy()', function () {\n  this.pluck('inst').unique().each(function (inst) {\n    inst.destroy();\n  });\n  return this;\n});\n\n// Remove a button\nDataTable.Api.registerPlural('buttons().remove()', 'buttons().remove()', function () {\n  this.each(function (set) {\n    set.inst.remove(set.node);\n  });\n  return this;\n});\n\n// Information box that can be used by buttons\nvar _infoTimer;\nDataTable.Api.register('buttons.info()', function (title, message, time) {\n  var that = this;\n  if (title === false) {\n    this.off('destroy.btn-info');\n    _fadeOut($('#datatables_buttons_info'), 400, function () {\n      $(this).remove();\n    });\n    clearTimeout(_infoTimer);\n    _infoTimer = null;\n    return this;\n  }\n  if (_infoTimer) {\n    clearTimeout(_infoTimer);\n  }\n  if ($('#datatables_buttons_info').length) {\n    $('#datatables_buttons_info').remove();\n  }\n  title = title ? '<h2>' + title + '</h2>' : '';\n  _fadeIn($('<div id=\"datatables_buttons_info\" class=\"dt-button-info\"/>').html(title).append($('<div/>')[typeof message === 'string' ? 'html' : 'append'](message)).css('display', 'none').appendTo('body'));\n  if (time !== undefined && time !== 0) {\n    _infoTimer = setTimeout(function () {\n      that.buttons.info(false);\n    }, time);\n  }\n  this.on('destroy.btn-info', function () {\n    that.buttons.info(false);\n  });\n  return this;\n});\n\n// Get data from the table for export - this is common to a number of plug-in\n// buttons so it is included in the Buttons core library\nDataTable.Api.register('buttons.exportData()', function (options) {\n  if (this.context.length) {\n    return _exportData(new DataTable.Api(this.context[0]), options);\n  }\n});\n\n// Get information about the export that is common to many of the export data\n// types (DRY)\nDataTable.Api.register('buttons.exportInfo()', function (conf) {\n  if (!conf) {\n    conf = {};\n  }\n  return {\n    filename: _filename(conf),\n    title: _title(conf),\n    messageTop: _message(this, conf.message || conf.messageTop, 'top'),\n    messageBottom: _message(this, conf.messageBottom, 'bottom')\n  };\n});\n\n/**\n * Get the file name for an exported file.\n *\n * @param {object}\tconfig Button configuration\n * @param {boolean} incExtension Include the file name extension\n */\nvar _filename = function (config) {\n  // Backwards compatibility\n  var filename = config.filename === '*' && config.title !== '*' && config.title !== undefined && config.title !== null && config.title !== '' ? config.title : config.filename;\n  if (typeof filename === 'function') {\n    filename = filename();\n  }\n  if (filename === undefined || filename === null) {\n    return null;\n  }\n  if (filename.indexOf('*') !== -1) {\n    filename = filename.replace('*', $('head > title').text()).trim();\n  }\n\n  // Strip characters which the OS will object to\n  filename = filename.replace(/[^a-zA-Z0-9_\\u00A1-\\uFFFF\\.,\\-_ !\\(\\)]/g, \"\");\n  var extension = _stringOrFunction(config.extension);\n  if (!extension) {\n    extension = '';\n  }\n  return filename + extension;\n};\n\n/**\n * Simply utility method to allow parameters to be given as a function\n *\n * @param {undefined|string|function} option Option\n * @return {null|string} Resolved value\n */\nvar _stringOrFunction = function (option) {\n  if (option === null || option === undefined) {\n    return null;\n  } else if (typeof option === 'function') {\n    return option();\n  }\n  return option;\n};\n\n/**\n * Get the title for an exported file.\n *\n * @param {object} config\tButton configuration\n */\nvar _title = function (config) {\n  var title = _stringOrFunction(config.title);\n  return title === null ? null : title.indexOf('*') !== -1 ? title.replace('*', $('head > title').text() || 'Exported data') : title;\n};\nvar _message = function (dt, option, position) {\n  var message = _stringOrFunction(option);\n  if (message === null) {\n    return null;\n  }\n  var caption = $('caption', dt.table().container()).eq(0);\n  if (message === '*') {\n    var side = caption.css('caption-side');\n    if (side !== position) {\n      return null;\n    }\n    return caption.length ? caption.text() : '';\n  }\n  return message;\n};\nvar _exportTextarea = $('<textarea/>')[0];\nvar _exportData = function (dt, inOpts) {\n  var config = $.extend(true, {}, {\n    rows: null,\n    columns: '',\n    modifier: {\n      search: 'applied',\n      order: 'applied'\n    },\n    orthogonal: 'display',\n    stripHtml: true,\n    stripNewlines: true,\n    decodeEntities: true,\n    trim: true,\n    format: {\n      header: function (d) {\n        return Buttons.stripData(d, config);\n      },\n      footer: function (d) {\n        return Buttons.stripData(d, config);\n      },\n      body: function (d) {\n        return Buttons.stripData(d, config);\n      }\n    },\n    customizeData: null\n  }, inOpts);\n  var header = dt.columns(config.columns).indexes().map(function (idx) {\n    var el = dt.column(idx).header();\n    return config.format.header(el.innerHTML, idx, el);\n  }).toArray();\n  var footer = dt.table().footer() ? dt.columns(config.columns).indexes().map(function (idx) {\n    var el = dt.column(idx).footer();\n    return config.format.footer(el ? el.innerHTML : '', idx, el);\n  }).toArray() : null;\n\n  // If Select is available on this table, and any rows are selected, limit the export\n  // to the selected rows. If no rows are selected, all rows will be exported. Specify\n  // a `selected` modifier to control directly.\n  var modifier = $.extend({}, config.modifier);\n  if (dt.select && typeof dt.select.info === 'function' && modifier.selected === undefined) {\n    if (dt.rows(config.rows, $.extend({\n      selected: true\n    }, modifier)).any()) {\n      $.extend(modifier, {\n        selected: true\n      });\n    }\n  }\n  var rowIndexes = dt.rows(config.rows, modifier).indexes().toArray();\n  var selectedCells = dt.cells(rowIndexes, config.columns);\n  var cells = selectedCells.render(config.orthogonal).toArray();\n  var cellNodes = selectedCells.nodes().toArray();\n  var columns = header.length;\n  var rows = columns > 0 ? cells.length / columns : 0;\n  var body = [];\n  var cellCounter = 0;\n  for (var i = 0, ien = rows; i < ien; i++) {\n    var row = [columns];\n    for (var j = 0; j < columns; j++) {\n      row[j] = config.format.body(cells[cellCounter], i, j, cellNodes[cellCounter]);\n      cellCounter++;\n    }\n    body[i] = row;\n  }\n  var data = {\n    header: header,\n    footer: footer,\n    body: body\n  };\n  if (config.customizeData) {\n    config.customizeData(data);\n  }\n  return data;\n};\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables interface\n */\n\n// Attach to DataTables objects for global access\n$.fn.dataTable.Buttons = Buttons;\n$.fn.DataTable.Buttons = Buttons;\n\n// DataTables creation - check if the buttons have been defined for this table,\n// they will have been if the `B` option was used in `dom`, otherwise we should\n// create the buttons instance here so they can be inserted into the document\n// using the API. Listen for `init` for compatibility with pre 1.10.10, but to\n// be removed in future.\n$(document).on('init.dt plugin-init.dt', function (e, settings) {\n  if (e.namespace !== 'dt') {\n    return;\n  }\n  var opts = settings.oInit.buttons || DataTable.defaults.buttons;\n  if (opts && !settings._buttons) {\n    new Buttons(settings, opts).container();\n  }\n});\nfunction _init(settings, options) {\n  var api = new DataTable.Api(settings);\n  var opts = options ? options : api.init().buttons || DataTable.defaults.buttons;\n  return new Buttons(api, opts).container();\n}\n\n// DataTables `dom` feature option\nDataTable.ext.feature.push({\n  fnInit: _init,\n  cFeature: \"B\"\n});\n\n// DataTables 2 layout feature\nif (DataTable.ext.features) {\n  DataTable.ext.features.register('buttons', _init);\n}\nexport default DataTable;","map":{"version":3,"names":["$","DataTable","_instCounter","_buttonCounter","_dtButtons","ext","buttons","_fadeIn","el","duration","fn","animate","stop","fadeIn","css","call","_fadeOut","fadeOut","Buttons","dt","config","settings","container","Array","isArray","c","extend","defaults","s","Api","listenKeys","namespace","dom","tag","addClass","className","_constructor","prototype","action","node","button","_nodeToButton","undefined","conf","active","flag","klass","jqNode","hasClass","toggleClass","add","idx","draw","split","base","i","ien","length","_expandButton","_draw","collectionRebuild","newButtons","remove","newBtn","parentConf","collection","disable","disabled","prop","destroy","off","slice","buttonInsts","inst","splice","enable","removeClass","index","nested","inner","match","name","processing","table","triggerHandler","host","_nodeToHost","destroying","_removeKey","inArray","text","label","buttonLiner","linerTag","inCollection","opt","children","eq","filter","html","that","dtSettings","_buttons","push","on","e","document","activeElement","body","character","String","fromCharCode","keyCode","toLowerCase","indexOf","_keypress","_addKey","key","isPlainObject","detach","append","inserter","attachTo","inSplit","attachPoint","buttonCounter","isSplit","_resolveExtends","built","_buildButton","splitCollection","_collection","j","parent","collectionLayout","dropup","fade","splitDropdown","init","buttonDom","linerDom","collectionDom","splitDom","splitCollectionDom","splitDropdownButton","spacer","style","spacerClass","available","hasOwnProperty","clickBlurs","attr","iTabIndex","id","preventDefault","trigger","liner","enabled","titleAttr","buttonContainer","buttonCreated","splitDiv","splitWrapper","dropButtonConfig","closeButton","align","splitAlignClass","splitAction","dropButton","stopPropagation","get","ret","_buttonsHandled","run","click","shiftKey","altKey","ctrlKey","metaKey","recurse","a","join","toConfObject","loop","objArray","originalClassName","postfixButtons","prefixButtons","_popover","content","hostButton","inOpts","buttonsSettings","closed","options","autoClose","background","backgroundClassName","contentClassName","collectionTitle","popoverTitle","rightAlignClassName","hostNode","close","nodes","window","existingExpanded","closest","cnt","mod","display","role","appendTo","parents","lastChild","prepend","insertAfter","tableContainer","position","span","width","offsetParent","buttonPosition","buttonOffset","offset","tableSizes","containerPosition","computed","getComputedStyle","height","outerHeight","parseFloat","paddingLeft","right","left","bottom","top","popoverSizes","outerWidth","marginTop","marginBottom","scrollTop","half","backgroundHost","setTimeout","btn","back","addBack","target","elements","first","focus","last","show","insertPoint","instanceSelector","group","map","v","names","process","input","trim","buttonSelector","insts","selector","nodeBuilder","baseIdx","indexes","replace","each","nodeName","stripData","str","stripHtml","stripNewlines","decodeEntities","_exportTextarea","innerHTML","value","tabIndex","version","i18n","popover","type","copy","copyHtml5","csv","csvHtml5","excel","excelHtml5","pdf","pdfHtml5","pageLength","lengthMenu","aLengthMenu","vals","lang","_","page","len","option","val","register","buttonGroup","res","iterator","ctx","_groupSelector","registerPlural","set","jq","groupSelector","containers","context","pluck","unique","_infoTimer","title","message","time","clearTimeout","info","_exportData","filename","_filename","_title","messageTop","_message","messageBottom","extension","_stringOrFunction","caption","side","rows","columns","modifier","search","order","orthogonal","format","header","d","footer","customizeData","column","toArray","select","selected","any","rowIndexes","selectedCells","cells","render","cellNodes","cellCounter","row","data","dataTable","opts","oInit","_init","api","feature","fnInit","cFeature","features"],"sources":["/home/shilpa/Public/my-work/code/demo-authentication/authenticate-vue/node_modules/datatables.net-buttons/js/dataTables.buttons.mjs"],"sourcesContent":["/*! Buttons for DataTables 2.3.3\n * Â©2016-2022 SpryMedia Ltd - datatables.net/license\n */\n\nimport $ from 'jquery';\nimport DataTable from 'datatables.net';\n\n\n\n// Used for namespacing events added to the document by each instance, so they\n// can be removed on destroy\nvar _instCounter = 0;\n\n// Button namespacing counter for namespacing events on individual buttons\nvar _buttonCounter = 0;\n\nvar _dtButtons = DataTable.ext.buttons;\n\n// Allow for jQuery slim\nfunction _fadeIn(el, duration, fn) {\n\tif ($.fn.animate) {\n\t\tel\n\t\t\t.stop()\n\t\t\t.fadeIn( duration, fn );\n\n\t}\n\telse {\n\t\tel.css('display', 'block');\n\n\t\tif (fn) {\n\t\t\tfn.call(el);\n\t\t}\n\t}\n}\n\nfunction _fadeOut(el, duration, fn) {\n\tif ($.fn.animate) {\n\t\tel\n\t\t\t.stop()\n\t\t\t.fadeOut( duration, fn );\n\t}\n\telse {\n\t\tel.css('display', 'none');\n\t\t\n\t\tif (fn) {\n\t\t\tfn.call(el);\n\t\t}\n\t}\n}\n\n/**\n * [Buttons description]\n * @param {[type]}\n * @param {[type]}\n */\nvar Buttons = function( dt, config )\n{\n\t// If not created with a `new` keyword then we return a wrapper function that\n\t// will take the settings object for a DT. This allows easy use of new instances\n\t// with the `layout` option - e.g. `topLeft: $.fn.dataTable.Buttons( ... )`.\n\tif ( !(this instanceof Buttons) ) {\n\t\treturn function (settings) {\n\t\t\treturn new Buttons( settings, dt ).container();\n\t\t};\n\t}\n\n\t// If there is no config set it to an empty object\n\tif ( typeof( config ) === 'undefined' ) {\n\t\tconfig = {};\t\n\t}\n\t\n\t// Allow a boolean true for defaults\n\tif ( config === true ) {\n\t\tconfig = {};\n\t}\n\n\t// For easy configuration of buttons an array can be given\n\tif ( Array.isArray( config ) ) {\n\t\tconfig = { buttons: config };\n\t}\n\n\tthis.c = $.extend( true, {}, Buttons.defaults, config );\n\n\t// Don't want a deep copy for the buttons\n\tif ( config.buttons ) {\n\t\tthis.c.buttons = config.buttons;\n\t}\n\n\tthis.s = {\n\t\tdt: new DataTable.Api( dt ),\n\t\tbuttons: [],\n\t\tlistenKeys: '',\n\t\tnamespace: 'dtb'+(_instCounter++)\n\t};\n\n\tthis.dom = {\n\t\tcontainer: $('<'+this.c.dom.container.tag+'/>')\n\t\t\t.addClass( this.c.dom.container.className )\n\t};\n\n\tthis._constructor();\n};\n\n\n$.extend( Buttons.prototype, {\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Public methods\n\t */\n\n\t/**\n\t * Get the action of a button\n\t * @param  {int|string} Button index\n\t * @return {function}\n\t *//**\n\t * Set the action of a button\n\t * @param  {node} node Button element\n\t * @param  {function} action Function to set\n\t * @return {Buttons} Self for chaining\n\t */\n\taction: function ( node, action )\n\t{\n\t\tvar button = this._nodeToButton( node );\n\n\t\tif ( action === undefined ) {\n\t\t\treturn button.conf.action;\n\t\t}\n\n\t\tbutton.conf.action = action;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Add an active class to the button to make to look active or get current\n\t * active state.\n\t * @param  {node} node Button element\n\t * @param  {boolean} [flag] Enable / disable flag\n\t * @return {Buttons} Self for chaining or boolean for getter\n\t */\n\tactive: function ( node, flag ) {\n\t\tvar button = this._nodeToButton( node );\n\t\tvar klass = this.c.dom.button.active;\n\t\tvar jqNode = $(button.node);\n\n\t\tif ( flag === undefined ) {\n\t\t\treturn jqNode.hasClass( klass );\n\t\t}\n\n\t\tjqNode.toggleClass( klass, flag === undefined ? true : flag );\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Add a new button\n\t * @param {object} config Button configuration object, base string name or function\n\t * @param {int|string} [idx] Button index for where to insert the button\n\t * @param {boolean} [draw=true] Trigger a draw. Set a false when adding\n\t *   lots of buttons, until the last button.\n\t * @return {Buttons} Self for chaining\n\t */\n\tadd: function ( config, idx, draw )\n\t{\n\t\tvar buttons = this.s.buttons;\n\n\t\tif ( typeof idx === 'string' ) {\n\t\t\tvar split = idx.split('-');\n\t\t\tvar base = this.s;\n\n\t\t\tfor ( var i=0, ien=split.length-1 ; i<ien ; i++ ) {\n\t\t\t\tbase = base.buttons[ split[i]*1 ];\n\t\t\t}\n\n\t\t\tbuttons = base.buttons;\n\t\t\tidx = split[ split.length-1 ]*1;\n\t\t}\n\n\t\tthis._expandButton(\n\t\t\tbuttons,\n\t\t\tconfig,\n\t\t\tconfig !== undefined ? config.split : undefined,\n\t\t\t(config === undefined || config.split === undefined || config.split.length === 0) && base !== undefined,\n\t\t\tfalse,\n\t\t\tidx\n\t\t);\n\n\t\tif (draw === undefined || draw === true) {\n\t\t\tthis._draw();\n\t\t}\n\t\n\t\treturn this;\n\t},\n\n\t/**\n\t * Clear buttons from a collection and then insert new buttons\n\t */\n\tcollectionRebuild: function ( node, newButtons )\n\t{\n\t\tvar button = this._nodeToButton( node );\n\t\t\n\t\tif(newButtons !== undefined) {\n\t\t\tvar i;\n\t\t\t// Need to reverse the array\n\t\t\tfor (i=button.buttons.length-1; i>=0; i--) {\n\t\t\t\tthis.remove(button.buttons[i].node);\n\t\t\t}\n\t\n\t\t\tfor (i=0; i<newButtons.length; i++) {\n\t\t\t\tvar newBtn = newButtons[i];\n\n\t\t\t\tthis._expandButton(\n\t\t\t\t\tbutton.buttons,\n\t\t\t\t\tnewBtn,\n\t\t\t\t\tnewBtn !== undefined && newBtn.config !== undefined && newBtn.config.split !== undefined,\n\t\t\t\t\ttrue,\n\t\t\t\t\tnewBtn.parentConf !== undefined && newBtn.parentConf.split !== undefined,\n\t\t\t\t\ti,\n\t\t\t\t\tnewBtn.parentConf\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis._draw(button.collection, button.buttons);\n\t},\n\n\t/**\n\t * Get the container node for the buttons\n\t * @return {jQuery} Buttons node\n\t */\n\tcontainer: function ()\n\t{\n\t\treturn this.dom.container;\n\t},\n\n\t/**\n\t * Disable a button\n\t * @param  {node} node Button node\n\t * @return {Buttons} Self for chaining\n\t */\n\tdisable: function ( node ) {\n\t\tvar button = this._nodeToButton( node );\n\n\t\t$(button.node)\n\t\t\t.addClass( this.c.dom.button.disabled )\n\t\t\t.prop('disabled', true);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Destroy the instance, cleaning up event handlers and removing DOM\n\t * elements\n\t * @return {Buttons} Self for chaining\n\t */\n\tdestroy: function ()\n\t{\n\t\t// Key event listener\n\t\t$('body').off( 'keyup.'+this.s.namespace );\n\n\t\t// Individual button destroy (so they can remove their own events if\n\t\t// needed). Take a copy as the array is modified by `remove`\n\t\tvar buttons = this.s.buttons.slice();\n\t\tvar i, ien;\n\t\t\n\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tthis.remove( buttons[i].node );\n\t\t}\n\n\t\t// Container\n\t\tthis.dom.container.remove();\n\n\t\t// Remove from the settings object collection\n\t\tvar buttonInsts = this.s.dt.settings()[0];\n\n\t\tfor ( i=0, ien=buttonInsts.length ; i<ien ; i++ ) {\n\t\t\tif ( buttonInsts.inst === this ) {\n\t\t\t\tbuttonInsts.splice( i, 1 );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Enable / disable a button\n\t * @param  {node} node Button node\n\t * @param  {boolean} [flag=true] Enable / disable flag\n\t * @return {Buttons} Self for chaining\n\t */\n\tenable: function ( node, flag )\n\t{\n\t\tif ( flag === false ) {\n\t\t\treturn this.disable( node );\n\t\t}\n\n\t\tvar button = this._nodeToButton( node );\n\t\t$(button.node)\n\t\t\t.removeClass( this.c.dom.button.disabled )\n\t\t\t.prop('disabled', false);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Get a button's index\n\t * \n\t * This is internally recursive\n\t * @param {element} node Button to get the index of\n\t * @return {string} Button index\n\t */\n\tindex: function ( node, nested, buttons )\n\t{\n\t\tif ( ! nested ) {\n\t\t\tnested = '';\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tvar inner = buttons[i].buttons;\n\n\t\t\tif (buttons[i].node === node) {\n\t\t\t\treturn nested + i;\n\t\t\t}\n\n\t\t\tif ( inner && inner.length ) {\n\t\t\t\tvar match = this.index(node, i + '-', inner);\n\n\t\t\t\tif (match !== null) {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\n\t/**\n\t * Get the instance name for the button set selector\n\t * @return {string} Instance name\n\t */\n\tname: function ()\n\t{\n\t\treturn this.c.name;\n\t},\n\n\t/**\n\t * Get a button's node of the buttons container if no button is given\n\t * @param  {node} [node] Button node\n\t * @return {jQuery} Button element, or container\n\t */\n\tnode: function ( node )\n\t{\n\t\tif ( ! node ) {\n\t\t\treturn this.dom.container;\n\t\t}\n\n\t\tvar button = this._nodeToButton( node );\n\t\treturn $(button.node);\n\t},\n\n\t/**\n\t * Set / get a processing class on the selected button\n\t * @param {element} node Triggering button node\n\t * @param  {boolean} flag true to add, false to remove, undefined to get\n\t * @return {boolean|Buttons} Getter value or this if a setter.\n\t */\n\tprocessing: function ( node, flag )\n\t{\n\t\tvar dt = this.s.dt;\n\t\tvar button = this._nodeToButton( node );\n\n\t\tif ( flag === undefined ) {\n\t\t\treturn $(button.node).hasClass( 'processing' );\n\t\t}\n\n\t\t$(button.node).toggleClass( 'processing', flag );\n\n\t\t$(dt.table().node()).triggerHandler( 'buttons-processing.dt', [\n\t\t\tflag, dt.button( node ), dt, $(node), button.conf\n\t\t] );\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Remove a button.\n\t * @param  {node} node Button node\n\t * @return {Buttons} Self for chaining\n\t */\n\tremove: function ( node )\n\t{\n\t\tvar button = this._nodeToButton( node );\n\t\tvar host = this._nodeToHost( node );\n\t\tvar dt = this.s.dt;\n\n\t\t// Remove any child buttons first\n\t\tif ( button.buttons.length ) {\n\t\t\tfor ( var i=button.buttons.length-1 ; i>=0 ; i-- ) {\n\t\t\t\tthis.remove( button.buttons[i].node );\n\t\t\t}\n\t\t}\n\n\t\tbutton.conf.destroying = true;\n\n\t\t// Allow the button to remove event handlers, etc\n\t\tif ( button.conf.destroy ) {\n\t\t\tbutton.conf.destroy.call( dt.button(node), dt, $(node), button.conf );\n\t\t}\n\n\t\tthis._removeKey( button.conf );\n\n\t\t$(button.node).remove();\n\n\t\tvar idx = $.inArray( button, host );\n\t\thost.splice( idx, 1 );\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Get the text for a button\n\t * @param  {int|string} node Button index\n\t * @return {string} Button text\n\t *//**\n\t * Set the text for a button\n\t * @param  {int|string|function} node Button index\n\t * @param  {string} label Text\n\t * @return {Buttons} Self for chaining\n\t */\n\ttext: function ( node, label )\n\t{\n\t\tvar button = this._nodeToButton( node );\n\t\tvar buttonLiner = this.c.dom.collection.buttonLiner;\n\t\tvar linerTag = button.inCollection && buttonLiner && buttonLiner.tag ?\n\t\t\tbuttonLiner.tag :\n\t\t\tthis.c.dom.buttonLiner.tag;\n\t\tvar dt = this.s.dt;\n\t\tvar jqNode = $(button.node);\n\t\tvar text = function ( opt ) {\n\t\t\treturn typeof opt === 'function' ?\n\t\t\t\topt( dt, jqNode, button.conf ) :\n\t\t\t\topt;\n\t\t};\n\n\t\tif ( label === undefined ) {\n\t\t\treturn text( button.conf.text );\n\t\t}\n\n\t\tbutton.conf.text = label;\n\n\t\tif ( linerTag ) {\n\t\t\tjqNode\n\t\t\t\t.children( linerTag )\n\t\t\t\t.eq(0)\n\t\t\t\t.filter(':not(.dt-down-arrow)')\n\t\t\t\t.html( text(label) );\n\t\t}\n\t\telse {\n\t\t\tjqNode.html( text(label) );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Constructor\n\t */\n\n\t/**\n\t * Buttons constructor\n\t * @private\n\t */\n\t_constructor: function ()\n\t{\n\t\tvar that = this;\n\t\tvar dt = this.s.dt;\n\t\tvar dtSettings = dt.settings()[0];\n\t\tvar buttons =  this.c.buttons;\n\n\t\tif ( ! dtSettings._buttons ) {\n\t\t\tdtSettings._buttons = [];\n\t\t}\n\n\t\tdtSettings._buttons.push( {\n\t\t\tinst: this,\n\t\t\tname: this.c.name\n\t\t} );\n\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tthis.add( buttons[i] );\n\t\t}\n\n\t\tdt.on( 'destroy', function ( e, settings ) {\n\t\t\tif ( settings === dtSettings ) {\n\t\t\t\tthat.destroy();\n\t\t\t}\n\t\t} );\n\n\t\t// Global key event binding to listen for button keys\n\t\t$('body').on( 'keyup.'+this.s.namespace, function ( e ) {\n\t\t\tif ( ! document.activeElement || document.activeElement === document.body ) {\n\t\t\t\t// SUse a string of characters for fast lookup of if we need to\n\t\t\t\t// handle this\n\t\t\t\tvar character = String.fromCharCode(e.keyCode).toLowerCase();\n\n\t\t\t\tif ( that.s.listenKeys.toLowerCase().indexOf( character ) !== -1 ) {\n\t\t\t\t\tthat._keypress( character, e );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Private methods\n\t */\n\n\t/**\n\t * Add a new button to the key press listener\n\t * @param {object} conf Resolved button configuration object\n\t * @private\n\t */\n\t_addKey: function ( conf )\n\t{\n\t\tif ( conf.key ) {\n\t\t\tthis.s.listenKeys += $.isPlainObject( conf.key ) ?\n\t\t\t\tconf.key.key :\n\t\t\t\tconf.key;\n\t\t}\n\t},\n\n\t/**\n\t * Insert the buttons into the container. Call without parameters!\n\t * @param  {node} [container] Recursive only - Insert point\n\t * @param  {array} [buttons] Recursive only - Buttons array\n\t * @private\n\t */\n\t_draw: function ( container, buttons )\n\t{\n\t\tif ( ! container ) {\n\t\t\tcontainer = this.dom.container;\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tcontainer.children().detach();\n\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tcontainer.append( buttons[i].inserter );\n\t\t\tcontainer.append( ' ' );\n\n\t\t\tif ( buttons[i].buttons && buttons[i].buttons.length ) {\n\t\t\t\tthis._draw( buttons[i].collection, buttons[i].buttons );\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Create buttons from an array of buttons\n\t * @param  {array} attachTo Buttons array to attach to\n\t * @param  {object} button Button definition\n\t * @param  {boolean} inCollection true if the button is in a collection\n\t * @private\n\t */\n\t_expandButton: function ( attachTo, button, split, inCollection, inSplit, attachPoint, parentConf )\n\t{\n\t\tvar dt = this.s.dt;\n\t\tvar buttonCounter = 0;\n\t\tvar isSplit = false;\n\t\tvar buttons = ! Array.isArray( button ) ?\n\t\t\t[ button ] :\n\t\t\tbutton;\n\t\t\n\t\tif(button === undefined ) {\n\t\t\tbuttons = !Array.isArray(split) ?\n\t\t\t\t[ split ] :\n\t\t\t\tsplit;\n\t\t}\n\n\t\tif (button !== undefined && button.split !== undefined) {\n\t\t\tisSplit = true;\n\t\t}\n\t\t\t\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tvar conf = this._resolveExtends( buttons[i] );\n\n\t\t\tif ( ! conf ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif( conf.config !== undefined && conf.config.split) {\n\t\t\t\tisSplit = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tisSplit = false;\n\t\t\t}\n\t\t\t\n\t\t\t// If the configuration is an array, then expand the buttons at this\n\t\t\t// point\n\t\t\tif ( Array.isArray( conf ) ) {\n\t\t\t\tthis._expandButton( attachTo, conf, built !== undefined && built.conf !== undefined ? built.conf.split : undefined, inCollection, parentConf !== undefined && parentConf.split !== undefined, attachPoint, parentConf );\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar built = this._buildButton( conf, inCollection, conf.split !== undefined || (conf.config !== undefined && conf.config.split !== undefined), inSplit );\n\t\t\tif ( ! built ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( attachPoint !== undefined && attachPoint !== null ) {\n\t\t\t\tattachTo.splice( attachPoint, 0, built );\n\t\t\t\tattachPoint++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tattachTo.push( built );\n\t\t\t}\n\n\t\t\t\n\t\t\tif ( built.conf.buttons || built.conf.split ) {\n\t\t\t\tbuilt.collection = $('<'+(isSplit ? this.c.dom.splitCollection.tag : this.c.dom.collection.tag)+'/>');\n\n\t\t\t\tbuilt.conf._collection = built.collection;\n\n\t\t\t\tif(built.conf.split) {\n\t\t\t\t\tfor(var j = 0; j < built.conf.split.length; j++) {\n\t\t\t\t\t\tif(typeof built.conf.split[j] === \"object\") {\n\t\t\t\t\t\t\tbuilt.conf.split[j].parent = parentConf;\n\t\t\t\t\t\t\tif(built.conf.split[j].collectionLayout === undefined) {\n\t\t\t\t\t\t\t\tbuilt.conf.split[j].collectionLayout = built.conf.collectionLayout;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(built.conf.split[j].dropup === undefined) {\n\t\t\t\t\t\t\t\tbuilt.conf.split[j].dropup = built.conf.dropup;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(built.conf.split[j].fade === undefined) {\n\t\t\t\t\t\t\t\tbuilt.conf.split[j].fade = built.conf.fade;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(built.node).append($('<span class=\"dt-down-arrow\">'+this.c.dom.splitDropdown.text+'</span>'))\n\t\t\t\t}\n\n\t\t\t\tthis._expandButton( built.buttons, built.conf.buttons, built.conf.split, !isSplit, isSplit, attachPoint, built.conf );\n\t\t\t}\n\t\t\tbuilt.conf.parent = parentConf;\n\n\t\t\t// init call is made here, rather than buildButton as it needs to\n\t\t\t// be selectable, and for that it needs to be in the buttons array\n\t\t\tif ( conf.init ) {\n\t\t\t\tconf.init.call( dt.button( built.node ), dt, $(built.node), conf );\n\t\t\t}\n\n\t\t\tbuttonCounter++;\n\t\t}\n\t},\n\n\t/**\n\t * Create an individual button\n\t * @param  {object} config            Resolved button configuration\n\t * @param  {boolean} inCollection `true` if a collection button\n\t * @return {jQuery} Created button node (jQuery)\n\t * @private\n\t */\n\t_buildButton: function ( config, inCollection, isSplit, inSplit )\n\t{\n\t\tvar buttonDom = this.c.dom.button;\n\t\tvar linerDom = this.c.dom.buttonLiner;\n\t\tvar collectionDom = this.c.dom.collection;\n\t\tvar splitDom = this.c.dom.split;\n\t\tvar splitCollectionDom = this.c.dom.splitCollection;\n\t\tvar splitDropdownButton = this.c.dom.splitDropdownButton;\n\t\tvar dt = this.s.dt;\n\t\tvar text = function ( opt ) {\n\t\t\treturn typeof opt === 'function' ?\n\t\t\t\topt( dt, button, config ) :\n\t\t\t\topt;\n\t\t};\n\n\t\t// Spacers don't do much other than insert an element into the DOM\n\t\tif (config.spacer) {\n\t\t\tvar spacer = $('<span></span>')\n\t\t\t\t.addClass('dt-button-spacer ' + config.style + ' ' + buttonDom.spacerClass)\n\t\t\t\t.html(text(config.text));\n\n\t\t\treturn {\n\t\t\t\tconf:         config,\n\t\t\t\tnode:         spacer,\n\t\t\t\tinserter:     spacer,\n\t\t\t\tbuttons:      [],\n\t\t\t\tinCollection: inCollection,\n\t\t\t\tisSplit:\t  isSplit,\n\t\t\t\tinSplit:\t  inSplit,\n\t\t\t\tcollection:   null\n\t\t\t};\n\t\t}\n\n\t\tif ( !isSplit && inSplit && splitCollectionDom ) {\n\t\t\tbuttonDom = splitDropdownButton;\n\t\t}\n\t\telse if ( !isSplit && inCollection && collectionDom.button ) {\n\t\t\tbuttonDom = collectionDom.button;\n\t\t} \n\n\t\tif ( !isSplit && inSplit && splitCollectionDom.buttonLiner ) {\n\t\t\tlinerDom = splitCollectionDom.buttonLiner\n\t\t}\n\t\telse if ( !isSplit && inCollection && collectionDom.buttonLiner ) {\n\t\t\tlinerDom = collectionDom.buttonLiner;\n\t\t}\n\n\t\t// Make sure that the button is available based on whatever requirements\n\t\t// it has. For example, PDF button require pdfmake\n\t\tif ( config.available && ! config.available( dt, config ) && !config.hasOwnProperty('html') ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar button;\n\t\tif(!config.hasOwnProperty('html')) {\n\t\t\tvar action = function ( e, dt, button, config ) {\n\t\t\t\tconfig.action.call( dt.button( button ), e, dt, button, config );\n\t\n\t\t\t\t$(dt.table().node()).triggerHandler( 'buttons-action.dt', [\n\t\t\t\t\tdt.button( button ), dt, button, config \n\t\t\t\t] );\n\t\t\t};\n\n\t\t\tvar tag = config.tag || buttonDom.tag;\n\t\t\tvar clickBlurs = config.clickBlurs === undefined\n\t\t\t\t? true :\n\t\t\t\tconfig.clickBlurs;\n\n\t\t\tbutton = $('<'+tag+'/>')\n\t\t\t\t.addClass( buttonDom.className )\n\t\t\t\t.addClass( inSplit ? this.c.dom.splitDropdownButton.className : '')\n\t\t\t\t.attr( 'tabindex', this.s.dt.settings()[0].iTabIndex )\n\t\t\t\t.attr( 'aria-controls', this.s.dt.table().node().id )\n\t\t\t\t.on( 'click.dtb', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\n\t\t\t\t\tif ( ! button.hasClass( buttonDom.disabled ) && config.action ) {\n\t\t\t\t\t\taction( e, dt, button, config );\n\t\t\t\t\t}\n\t\t\t\t\tif( clickBlurs ) {\n\t\t\t\t\t\tbutton.trigger('blur');\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\t.on( 'keypress.dtb', function (e) {\n\t\t\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif ( ! button.hasClass( buttonDom.disabled ) && config.action ) {\n\t\t\t\t\t\t\taction( e, dt, button, config );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\n\t\t\t// Make `a` tags act like a link\n\t\t\tif ( tag.toLowerCase() === 'a' ) {\n\t\t\t\tbutton.attr( 'href', '#' );\n\t\t\t}\n\t\n\t\t\t// Button tags should have `type=button` so they don't have any default behaviour\n\t\t\tif ( tag.toLowerCase() === 'button' ) {\n\t\t\t\tbutton.attr( 'type', 'button' );\n\t\t\t}\n\t\n\t\t\tif ( linerDom.tag ) {\n\t\t\t\tvar liner = $('<'+linerDom.tag+'/>')\n\t\t\t\t\t.html( text( config.text ) )\n\t\t\t\t\t.addClass( linerDom.className );\n\t\n\t\t\t\tif ( linerDom.tag.toLowerCase() === 'a' ) {\n\t\t\t\t\tliner.attr( 'href', '#' );\n\t\t\t\t}\n\t\n\t\t\t\tbutton.append( liner );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbutton.html( text( config.text ) );\n\t\t\t}\n\t\n\t\t\tif ( config.enabled === false ) {\n\t\t\t\tbutton.addClass( buttonDom.disabled );\n\t\t\t}\n\t\n\t\t\tif ( config.className ) {\n\t\t\t\tbutton.addClass( config.className );\n\t\t\t}\n\t\n\t\t\tif ( config.titleAttr ) {\n\t\t\t\tbutton.attr( 'title', text( config.titleAttr ) );\n\t\t\t}\n\t\n\t\t\tif ( config.attr ) {\n\t\t\t\tbutton.attr( config.attr );\n\t\t\t}\n\t\n\t\t\tif ( ! config.namespace ) {\n\t\t\t\tconfig.namespace = '.dt-button-'+(_buttonCounter++);\n\t\t\t}\n\n\t\t\tif  ( config.config !== undefined && config.config.split ) {\n\t\t\t\tconfig.split = config.config.split;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tbutton = $(config.html)\n\t\t}\n\t\n\t\tvar buttonContainer = this.c.dom.buttonContainer;\n\t\tvar inserter;\n\t\tif ( buttonContainer && buttonContainer.tag ) {\n\t\t\tinserter = $('<'+buttonContainer.tag+'/>')\n\t\t\t\t.addClass( buttonContainer.className )\n\t\t\t\t.append( button );\n\t\t}\n\t\telse {\n\t\t\tinserter = button;\n\t\t}\n\n\t\tthis._addKey( config );\n\n\t\t// Style integration callback for DOM manipulation\n\t\t// Note that this is _not_ documented. It is currently\n\t\t// for style integration only\n\t\tif( this.c.buttonCreated ) {\n\t\t\tinserter = this.c.buttonCreated( config, inserter );\n\t\t}\n\n\t\tvar splitDiv;\n\t\tif(isSplit) {\n\t\t\tsplitDiv = $('<div/>').addClass(this.c.dom.splitWrapper.className)\n\t\t\tsplitDiv.append(button);\n\t\t\tvar dropButtonConfig = $.extend(config, {\n\t\t\t\ttext: this.c.dom.splitDropdown.text,\n\t\t\t\tclassName: this.c.dom.splitDropdown.className,\n\t\t\t\tcloseButton: false,\n\t\t\t\tattr: {\n\t\t\t\t\t'aria-haspopup': 'dialog',\n\t\t\t\t\t'aria-expanded': false\n\t\t\t\t},\n\t\t\t\talign: this.c.dom.splitDropdown.align,\n\t\t\t\tsplitAlignClass: this.c.dom.splitDropdown.splitAlignClass\n\t\t\t\t\n\t\t\t})\n\n\t\t\tthis._addKey(dropButtonConfig);\n\n\t\t\tvar splitAction = function ( e, dt, button, config ) {\n\t\t\t\t_dtButtons.split.action.call( dt.button(splitDiv), e, dt, button, config );\n\t\n\t\t\t\t$(dt.table().node()).triggerHandler( 'buttons-action.dt', [\n\t\t\t\t\tdt.button( button ), dt, button, config \n\t\t\t\t] );\n\t\t\t\tbutton.attr('aria-expanded', true)\n\t\t\t};\n\t\t\t\n\t\t\tvar dropButton = $('<button class=\"' + this.c.dom.splitDropdown.className + ' dt-button\"><span class=\"dt-btn-split-drop-arrow\">'+this.c.dom.splitDropdown.text+'</span></button>')\n\t\t\t\t.on( 'click.dtb', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\tif ( ! dropButton.hasClass( buttonDom.disabled )) {\n\t\t\t\t\t\tsplitAction( e, dt, dropButton, dropButtonConfig );\n\t\t\t\t\t}\n\t\t\t\t\tif ( clickBlurs ) {\n\t\t\t\t\t\tdropButton.trigger('blur');\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\t.on( 'keypress.dtb', function (e) {\n\t\t\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif ( ! dropButton.hasClass( buttonDom.disabled ) ) {\n\t\t\t\t\t\t\tsplitAction( e, dt, dropButton, dropButtonConfig );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\tif(config.split.length === 0) {\n\t\t\t\tdropButton.addClass('dtb-hide-drop');\n\t\t\t}\n\n\t\t\tsplitDiv.append(dropButton).attr(dropButtonConfig.attr);\n\t\t}\n\n\t\treturn {\n\t\t\tconf:         config,\n\t\t\tnode:         isSplit ? splitDiv.get(0) : button.get(0),\n\t\t\tinserter:     isSplit ? splitDiv : inserter,\n\t\t\tbuttons:      [],\n\t\t\tinCollection: inCollection,\n\t\t\tisSplit:\t  isSplit,\n\t\t\tinSplit:\t  inSplit,\n\t\t\tcollection:   null\n\t\t};\n\t},\n\n\t/**\n\t * Get the button object from a node (recursive)\n\t * @param  {node} node Button node\n\t * @param  {array} [buttons] Button array, uses base if not defined\n\t * @return {object} Button object\n\t * @private\n\t */\n\t_nodeToButton: function ( node, buttons )\n\t{\n\t\tif ( ! buttons ) {\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tif ( buttons[i].node === node ) {\n\t\t\t\treturn buttons[i];\n\t\t\t}\n\n\t\t\tif ( buttons[i].buttons.length ) {\n\t\t\t\tvar ret = this._nodeToButton( node, buttons[i].buttons );\n\n\t\t\t\tif ( ret ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Get container array for a button from a button node (recursive)\n\t * @param  {node} node Button node\n\t * @param  {array} [buttons] Button array, uses base if not defined\n\t * @return {array} Button's host array\n\t * @private\n\t */\n\t_nodeToHost: function ( node, buttons )\n\t{\n\t\tif ( ! buttons ) {\n\t\t\tbuttons = this.s.buttons;\n\t\t}\n\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tif ( buttons[i].node === node ) {\n\t\t\t\treturn buttons;\n\t\t\t}\n\n\t\t\tif ( buttons[i].buttons.length ) {\n\t\t\t\tvar ret = this._nodeToHost( node, buttons[i].buttons );\n\n\t\t\t\tif ( ret ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Handle a key press - determine if any button's key configured matches\n\t * what was typed and trigger the action if so.\n\t * @param  {string} character The character pressed\n\t * @param  {object} e Key event that triggered this call\n\t * @private\n\t */\n\t_keypress: function ( character, e )\n\t{\n\t\t// Check if this button press already activated on another instance of Buttons\n\t\tif ( e._buttonsHandled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar run = function ( conf, node ) {\n\t\t\tif ( ! conf.key ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( conf.key === character ) {\n\t\t\t\te._buttonsHandled = true;\n\t\t\t\t$(node).click();\n\t\t\t}\n\t\t\telse if ( $.isPlainObject( conf.key ) ) {\n\t\t\t\tif ( conf.key.key !== character ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( conf.key.shiftKey && ! e.shiftKey ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( conf.key.altKey && ! e.altKey ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( conf.key.ctrlKey && ! e.ctrlKey ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( conf.key.metaKey && ! e.metaKey ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Made it this far - it is good\n\t\t\t\te._buttonsHandled = true;\n\t\t\t\t$(node).click();\n\t\t\t}\n\t\t};\n\n\t\tvar recurse = function ( a ) {\n\t\t\tfor ( var i=0, ien=a.length ; i<ien ; i++ ) {\n\t\t\t\trun( a[i].conf, a[i].node );\n\n\t\t\t\tif ( a[i].buttons.length ) {\n\t\t\t\t\trecurse( a[i].buttons );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trecurse( this.s.buttons );\n\t},\n\n\t/**\n\t * Remove a key from the key listener for this instance (to be used when a\n\t * button is removed)\n\t * @param  {object} conf Button configuration\n\t * @private\n\t */\n\t_removeKey: function ( conf )\n\t{\n\t\tif ( conf.key ) {\n\t\t\tvar character = $.isPlainObject( conf.key ) ?\n\t\t\t\tconf.key.key :\n\t\t\t\tconf.key;\n\n\t\t\t// Remove only one character, as multiple buttons could have the\n\t\t\t// same listening key\n\t\t\tvar a = this.s.listenKeys.split('');\n\t\t\tvar idx = $.inArray( character, a );\n\t\t\ta.splice( idx, 1 );\n\t\t\tthis.s.listenKeys = a.join('');\n\t\t}\n\t},\n\n\t/**\n\t * Resolve a button configuration\n\t * @param  {string|function|object} conf Button config to resolve\n\t * @return {object} Button configuration\n\t * @private\n\t */\n\t_resolveExtends: function ( conf )\n\t{\n\t\tvar that = this;\n\t\tvar dt = this.s.dt;\n\t\tvar i, ien;\n\t\tvar toConfObject = function ( base ) {\n\t\t\tvar loop = 0;\n\n\t\t\t// Loop until we have resolved to a button configuration, or an\n\t\t\t// array of button configurations (which will be iterated\n\t\t\t// separately)\n\t\t\twhile ( ! $.isPlainObject(base) && ! Array.isArray(base) ) {\n\t\t\t\tif ( base === undefined ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( typeof base === 'function' ) {\n\t\t\t\t\tbase = base.call( that, dt, conf );\n\n\t\t\t\t\tif ( ! base ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( typeof base === 'string' ) {\n\t\t\t\t\tif ( ! _dtButtons[ base ] ) {\n\t\t\t\t\t\treturn {html: base}\n\t\t\t\t\t}\n\n\t\t\t\t\tbase = _dtButtons[ base ];\n\t\t\t\t}\n\n\t\t\t\tloop++;\n\t\t\t\tif ( loop > 30 ) {\n\t\t\t\t\t// Protect against misconfiguration killing the browser\n\t\t\t\t\tthrow 'Buttons: Too many iterations';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn Array.isArray( base ) ?\n\t\t\t\tbase :\n\t\t\t\t$.extend( {}, base );\n\t\t};\n\n\t\tconf = toConfObject( conf );\n\n\t\twhile ( conf && conf.extend ) {\n\t\t\t// Use `toConfObject` in case the button definition being extended\n\t\t\t// is itself a string or a function\n\t\t\tif ( ! _dtButtons[ conf.extend ] ) {\n\t\t\t\tthrow 'Cannot extend unknown button type: '+conf.extend;\n\t\t\t}\n\n\t\t\tvar objArray = toConfObject( _dtButtons[ conf.extend ] );\n\t\t\tif ( Array.isArray( objArray ) ) {\n\t\t\t\treturn objArray;\n\t\t\t}\n\t\t\telse if ( ! objArray ) {\n\t\t\t\t// This is a little brutal as it might be possible to have a\n\t\t\t\t// valid button without the extend, but if there is no extend\n\t\t\t\t// then the host button would be acting in an undefined state\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Stash the current class name\n\t\t\tvar originalClassName = objArray.className;\n\n\t\t\tif (conf.config !== undefined && objArray.config !== undefined) {\n\t\t\t\tconf.config = $.extend({}, objArray.config, conf.config)\n\t\t\t}\n\n\t\t\tconf = $.extend( {}, objArray, conf );\n\n\t\t\t// The extend will have overwritten the original class name if the\n\t\t\t// `conf` object also assigned a class, but we want to concatenate\n\t\t\t// them so they are list that is combined from all extended buttons\n\t\t\tif ( originalClassName && conf.className !== originalClassName ) {\n\t\t\t\tconf.className = originalClassName+' '+conf.className;\n\t\t\t}\n\n\t\t\t// Buttons to be added to a collection  -gives the ability to define\n\t\t\t// if buttons should be added to the start or end of a collection\n\t\t\tvar postfixButtons = conf.postfixButtons;\n\t\t\tif ( postfixButtons ) {\n\t\t\t\tif ( ! conf.buttons ) {\n\t\t\t\t\tconf.buttons = [];\n\t\t\t\t}\n\n\t\t\t\tfor ( i=0, ien=postfixButtons.length ; i<ien ; i++ ) {\n\t\t\t\t\tconf.buttons.push( postfixButtons[i] );\n\t\t\t\t}\n\n\t\t\t\tconf.postfixButtons = null;\n\t\t\t}\n\n\t\t\tvar prefixButtons = conf.prefixButtons;\n\t\t\tif ( prefixButtons ) {\n\t\t\t\tif ( ! conf.buttons ) {\n\t\t\t\t\tconf.buttons = [];\n\t\t\t\t}\n\n\t\t\t\tfor ( i=0, ien=prefixButtons.length ; i<ien ; i++ ) {\n\t\t\t\t\tconf.buttons.splice( i, 0, prefixButtons[i] );\n\t\t\t\t}\n\n\t\t\t\tconf.prefixButtons = null;\n\t\t\t}\n\n\t\t\t// Although we want the `conf` object to overwrite almost all of\n\t\t\t// the properties of the object being extended, the `extend`\n\t\t\t// property should come from the object being extended\n\t\t\tconf.extend = objArray.extend;\n\t\t}\n\n\t\treturn conf;\n\t},\n\n\t/**\n\t * Display (and replace if there is an existing one) a popover attached to a button\n\t * @param {string|node} content Content to show\n\t * @param {DataTable.Api} hostButton DT API instance of the button\n\t * @param {object} inOpts Options (see object below for all options)\n\t */\n\t_popover: function ( content, hostButton, inOpts, e ) {\n\t\tvar dt = hostButton;\n\t\tvar buttonsSettings = this.c;\n\t\tvar closed = false;\n\t\tvar options = $.extend( {\n\t\t\talign: 'button-left', // button-right, dt-container, split-left, split-right\n\t\t\tautoClose: false,\n\t\t\tbackground: true,\n\t\t\tbackgroundClassName: 'dt-button-background',\n\t\t\tcloseButton: true,\n\t\t\tcontentClassName: buttonsSettings.dom.collection.className,\n\t\t\tcollectionLayout: '',\n\t\t\tcollectionTitle: '',\n\t\t\tdropup: false,\n\t\t\tfade: 400,\n\t\t\tpopoverTitle: '',\n\t\t\trightAlignClassName: 'dt-button-right',\n\t\t\ttag: buttonsSettings.dom.collection.tag\n\t\t}, inOpts );\n\n\t\tvar hostNode = hostButton.node();\n\n\t\tvar close = function () {\n\t\t\tclosed = true;\n\n\t\t\t_fadeOut(\n\t\t\t\t$('.dt-button-collection'),\n\t\t\t\toptions.fade,\n\t\t\t\tfunction () {\n\t\t\t\t\t$(this).detach();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$(dt.buttons( '[aria-haspopup=\"dialog\"][aria-expanded=\"true\"]' ).nodes())\n\t\t\t\t.attr('aria-expanded', 'false');\n\n\t\t\t$('div.dt-button-background').off( 'click.dtb-collection' );\n\t\t\tButtons.background( false, options.backgroundClassName, options.fade, hostNode );\n\n\t\t\t$(window).off('resize.resize.dtb-collection');\n\t\t\t$('body').off( '.dtb-collection' );\n\t\t\tdt.off( 'buttons-action.b-internal' );\n\t\t\tdt.off( 'destroy' );\n\t\t};\n\n\t\tif (content === false) {\n\t\t\tclose();\n\t\t\treturn;\n\t\t}\n\n\t\tvar existingExpanded = $(dt.buttons( '[aria-haspopup=\"dialog\"][aria-expanded=\"true\"]' ).nodes());\n\t\tif ( existingExpanded.length ) {\n\t\t\t// Reuse the current position if the button that was triggered is inside an existing collection\n\t\t\tif (hostNode.closest('div.dt-button-collection').length) {\n\t\t\t\thostNode = existingExpanded.eq(0);\n\t\t\t}\n\n\t\t\tclose();\n\t\t}\n\n\t\t// Try to be smart about the layout\n\t\tvar cnt = $('.dt-button', content).length;\n\t\tvar mod = '';\n\n\t\tif (cnt === 3) {\n\t\t\tmod = 'dtb-b3';\n\t\t}\n\t\telse if (cnt === 2) {\n\t\t\tmod = 'dtb-b2';\n\t\t}\n\t\telse if (cnt === 1) {\n\t\t\tmod = 'dtb-b1';\n\t\t}\n\n\t\tvar display = $('<div/>')\n\t\t\t.addClass('dt-button-collection')\n\t\t\t.addClass(options.collectionLayout)\n\t\t\t.addClass(options.splitAlignClass)\n\t\t\t.addClass(mod)\n\t\t\t.css('display', 'none')\n\t\t\t.attr({\n\t\t\t\t'aria-modal': true,\n\t\t\t\trole: 'dialog'\n\t\t\t});\n\n\t\tcontent = $(content)\n\t\t\t.addClass(options.contentClassName)\n\t\t\t.attr('role', 'menu')\n\t\t\t.appendTo(display);\n\n\t\thostNode.attr( 'aria-expanded', 'true' );\n\n\t\tif ( hostNode.parents('body')[0] !== document.body ) {\n\t\t\thostNode = document.body.lastChild;\n\t\t}\n\n\t\tif ( options.popoverTitle ) {\n\t\t\tdisplay.prepend('<div class=\"dt-button-collection-title\">'+options.popoverTitle+'</div>');\n\t\t}\n\t\telse if ( options.collectionTitle ) {\n\t\t\tdisplay.prepend('<div class=\"dt-button-collection-title\">'+options.collectionTitle+'</div>');\n\t\t}\n\n\t\tif (options.closeButton) {\n\t\t\tdisplay.prepend('<div class=\"dtb-popover-close\">x</div>').addClass('dtb-collection-closeable')\n\t\t}\n\n\t\t_fadeIn( display.insertAfter( hostNode ), options.fade );\n\n\t\tvar tableContainer = $( hostButton.table().container() );\n\t\tvar position = display.css( 'position' );\n\n\t\tif ( options.span === 'container' || options.align === 'dt-container' ) {\n\t\t\thostNode = hostNode.parent();\n\t\t\tdisplay.css('width', tableContainer.width());\n\t\t}\n\n\t\t// Align the popover relative to the DataTables container\n\t\t// Useful for wide popovers such as SearchPanes\n\t\tif (position === 'absolute') {\n\t\t\t// Align relative to the host button\n\t\t\tvar offsetParent = $(hostNode[0].offsetParent);\n\t\t\tvar buttonPosition = hostNode.position();\n\t\t\tvar buttonOffset = hostNode.offset();\n\t\t\tvar tableSizes = offsetParent.offset();\n\t\t\tvar containerPosition = offsetParent.position();\n\t\t\tvar computed = window.getComputedStyle(offsetParent[0]);\n\n\t\t\ttableSizes.height = offsetParent.outerHeight();\n\t\t\ttableSizes.width = offsetParent.width() + parseFloat(computed.paddingLeft);\n\t\t\ttableSizes.right = tableSizes.left + tableSizes.width;\n\t\t\ttableSizes.bottom = tableSizes.top + tableSizes.height;\n\n\t\t\t// Set the initial position so we can read height / width\n\t\t\tvar top = buttonPosition.top + hostNode.outerHeight();\n\t\t\tvar left = buttonPosition.left;\n\n\t\t\tdisplay.css( {\n\t\t\t\ttop: top,\n\t\t\t\tleft: left\n\t\t\t} );\n\n\t\t\t// Get the popover position\n\t\t\tcomputed = window.getComputedStyle(display[0]);\n\t\t\tvar popoverSizes = display.offset();\n\n\t\t\tpopoverSizes.height = display.outerHeight();\n\t\t\tpopoverSizes.width = display.outerWidth();\n\t\t\tpopoverSizes.right = popoverSizes.left + popoverSizes.width;\n\t\t\tpopoverSizes.bottom = popoverSizes.top + popoverSizes.height;\n\t\t\tpopoverSizes.marginTop = parseFloat(computed.marginTop);\n\t\t\tpopoverSizes.marginBottom = parseFloat(computed.marginBottom);\n\n\t\t\t// First position per the class requirements - pop up and right align\n\t\t\tif (options.dropup) {\n\t\t\t\ttop = buttonPosition.top - popoverSizes.height - popoverSizes.marginTop - popoverSizes.marginBottom;\n\t\t\t}\n\n\t\t\tif (options.align === 'button-right' || display.hasClass( options.rightAlignClassName )) {\n\t\t\t\tleft = buttonPosition.left - popoverSizes.width + hostNode.outerWidth(); \n\t\t\t}\n\n\t\t\t// Container alignment - make sure it doesn't overflow the table container\n\t\t\tif (options.align === 'dt-container' || options.align === 'container') {\n\t\t\t\tif (left < buttonPosition.left) {\n\t\t\t\t\tleft = -buttonPosition.left;\n\t\t\t\t}\n\n\t\t\t\tif (left + popoverSizes.width > tableSizes.width) {\n\t\t\t\t\tleft = tableSizes.width - popoverSizes.width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Window adjustment\n\t\t\tif (containerPosition.left + left + popoverSizes.width > $(window).width()) {\n\t\t\t\t// Overflowing the document to the right\n\t\t\t\tleft = $(window).width() - popoverSizes.width - containerPosition.left;\n\t\t\t}\n\n\t\t\tif (buttonOffset.left + left < 0) {\n\t\t\t\t// Off to the left of the document\n\t\t\t\tleft = -buttonOffset.left;\n\t\t\t}\n\n\t\t\tif (containerPosition.top + top + popoverSizes.height > $(window).height() + $(window).scrollTop()) {\n\t\t\t\t// Pop up if otherwise we'd need the user to scroll down\n\t\t\t\ttop = buttonPosition.top - popoverSizes.height - popoverSizes.marginTop - popoverSizes.marginBottom;\n\t\t\t}\n\n\t\t\tif (containerPosition.top + top < $(window).scrollTop()) {\n\t\t\t\t// Correction for when the top is beyond the top of the page\n\t\t\t\ttop = buttonPosition.top + hostNode.outerHeight();\n\t\t\t}\n\n\t\t\t// Calculations all done - now set it\n\t\t\tdisplay.css( {\n\t\t\t\ttop: top,\n\t\t\t\tleft: left\n\t\t\t} );\n\t\t}\n\t\telse {\n\t\t\t// Fix position - centre on screen\n\t\t\tvar position = function () {\n\t\t\t\tvar half = $(window).height() / 2;\n\n\t\t\t\tvar top = display.height() / 2;\n\t\t\t\tif ( top > half ) {\n\t\t\t\t\ttop = half;\n\t\t\t\t}\n\n\t\t\t\tdisplay.css( 'marginTop', top*-1 );\n\t\t\t};\n\n\t\t\tposition();\n\n\t\t\t$(window).on('resize.dtb-collection', function () {\n\t\t\t\tposition();\n\t\t\t});\n\t\t}\n\n\t\tif ( options.background ) {\n\t\t\tButtons.background(\n\t\t\t\ttrue,\n\t\t\t\toptions.backgroundClassName,\n\t\t\t\toptions.fade,\n\t\t\t\toptions.backgroundHost || hostNode\n\t\t\t);\n\t\t}\n\n\t\t// This is bonkers, but if we don't have a click listener on the\n\t\t// background element, iOS Safari will ignore the body click\n\t\t// listener below. An empty function here is all that is\n\t\t// required to make it work...\n\t\t$('div.dt-button-background').on( 'click.dtb-collection', function () {} );\n\n\t\tif ( options.autoClose ) {\n\t\t\tsetTimeout( function () {\n\t\t\t\tdt.on( 'buttons-action.b-internal', function (e, btn, dt, node) {\n\t\t\t\t\tif ( node[0] === hostNode[0] ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclose();\n\t\t\t\t} );\n\t\t\t}, 0);\n\t\t}\n\t\t\n\t\t$(display).trigger('buttons-popover.dt');\n\n\n\t\tdt.on('destroy', close);\n\n\t\tsetTimeout(function() {\n\t\t\tclosed = false;\n\t\t\t$('body')\n\t\t\t\t.on( 'click.dtb-collection', function (e) {\n\t\t\t\t\tif (closed) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// andSelf is deprecated in jQ1.8, but we want 1.7 compat\n\t\t\t\t\tvar back = $.fn.addBack ? 'addBack' : 'andSelf';\n\t\t\t\t\tvar parent = $(e.target).parent()[0];\n\t\n\t\t\t\t\tif (( ! $(e.target).parents()[back]().filter( content ).length  && !$(parent).hasClass('dt-buttons')) || $(e.target).hasClass('dt-button-background')) {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\t.on( 'keyup.dtb-collection', function (e) {\n\t\t\t\t\tif ( e.keyCode === 27 ) {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\t.on( 'keydown.dtb-collection', function (e) {\n\t\t\t\t\t// Focus trap for tab key\n\t\t\t\t\tvar elements = $('a, button', content);\n\t\t\t\t\tvar active = document.activeElement;\n\n\t\t\t\t\tif (e.keyCode !== 9) { // tab\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (elements.index(active) === -1) {\n\t\t\t\t\t\t// If current focus is not inside the popover\n\t\t\t\t\t\telements.first().focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\telse if (e.shiftKey) {\n\t\t\t\t\t\t// Reverse tabbing order when shift key is pressed\n\t\t\t\t\t\tif (active === elements[0]) {\n\t\t\t\t\t\t\telements.last().focus();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (active === elements.last()[0]) {\n\t\t\t\t\t\t\telements.first().focus();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, 0);\n\t}\n} );\n\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * Statics\n */\n\n/**\n * Show / hide a background layer behind a collection\n * @param  {boolean} Flag to indicate if the background should be shown or\n *   hidden \n * @param  {string} Class to assign to the background\n * @static\n */\nButtons.background = function ( show, className, fade, insertPoint ) {\n\tif ( fade === undefined ) {\n\t\tfade = 400;\n\t}\n\tif ( ! insertPoint ) {\n\t\tinsertPoint = document.body;\n\t}\n\n\tif ( show ) {\n\t\t_fadeIn(\n\t\t\t$('<div/>')\n\t\t\t\t.addClass( className )\n\t\t\t\t.css( 'display', 'none' )\n\t\t\t\t.insertAfter( insertPoint ),\n\t\t\tfade\n\t\t);\n\t}\n\telse {\n\t\t_fadeOut(\n\t\t\t$('div.'+className),\n\t\t\tfade,\n\t\t\tfunction () {\n\t\t\t\t$(this)\n\t\t\t\t\t.removeClass( className )\n\t\t\t\t\t.remove();\n\t\t\t}\n\t\t);\n\t}\n};\n\n/**\n * Instance selector - select Buttons instances based on an instance selector\n * value from the buttons assigned to a DataTable. This is only useful if\n * multiple instances are attached to a DataTable.\n * @param  {string|int|array} Instance selector - see `instance-selector`\n *   documentation on the DataTables site\n * @param  {array} Button instance array that was attached to the DataTables\n *   settings object\n * @return {array} Buttons instances\n * @static\n */\nButtons.instanceSelector = function ( group, buttons )\n{\n\tif ( group === undefined || group === null ) {\n\t\treturn $.map( buttons, function ( v ) {\n\t\t\treturn v.inst;\n\t\t} );\n\t}\n\n\tvar ret = [];\n\tvar names = $.map( buttons, function ( v ) {\n\t\treturn v.name;\n\t} );\n\n\t// Flatten the group selector into an array of single options\n\tvar process = function ( input ) {\n\t\tif ( Array.isArray( input ) ) {\n\t\t\tfor ( var i=0, ien=input.length ; i<ien ; i++ ) {\n\t\t\t\tprocess( input[i] );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ( typeof input === 'string' ) {\n\t\t\tif ( input.indexOf( ',' ) !== -1 ) {\n\t\t\t\t// String selector, list of names\n\t\t\t\tprocess( input.split(',') );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// String selector individual name\n\t\t\t\tvar idx = $.inArray( input.trim(), names );\n\n\t\t\t\tif ( idx !== -1 ) {\n\t\t\t\t\tret.push( buttons[ idx ].inst );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if ( typeof input === 'number' ) {\n\t\t\t// Index selector\n\t\t\tret.push( buttons[ input ].inst );\n\t\t}\n\t\telse if ( typeof input === 'object' ) {\n\t\t\t// Actual instance selector\n\t\t\tret.push( input );\n\t\t}\n\t};\n\t\n\tprocess( group );\n\n\treturn ret;\n};\n\n/**\n * Button selector - select one or more buttons from a selector input so some\n * operation can be performed on them.\n * @param  {array} Button instances array that the selector should operate on\n * @param  {string|int|node|jQuery|array} Button selector - see\n *   `button-selector` documentation on the DataTables site\n * @return {array} Array of objects containing `inst` and `idx` properties of\n *   the selected buttons so you know which instance each button belongs to.\n * @static\n */\nButtons.buttonSelector = function ( insts, selector )\n{\n\tvar ret = [];\n\tvar nodeBuilder = function ( a, buttons, baseIdx ) {\n\t\tvar button;\n\t\tvar idx;\n\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\tbutton = buttons[i];\n\n\t\t\tif ( button ) {\n\t\t\t\tidx = baseIdx !== undefined ?\n\t\t\t\t\tbaseIdx+i :\n\t\t\t\t\ti+'';\n\n\t\t\t\ta.push( {\n\t\t\t\t\tnode: button.node,\n\t\t\t\t\tname: button.conf.name,\n\t\t\t\t\tidx:  idx\n\t\t\t\t} );\n\n\t\t\t\tif ( button.buttons ) {\n\t\t\t\t\tnodeBuilder( a, button.buttons, idx+'-' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar run = function ( selector, inst ) {\n\t\tvar i, ien;\n\t\tvar buttons = [];\n\t\tnodeBuilder( buttons, inst.s.buttons );\n\n\t\tvar nodes = $.map( buttons, function (v) {\n\t\t\treturn v.node;\n\t\t} );\n\n\t\tif ( Array.isArray( selector ) || selector instanceof $ ) {\n\t\t\tfor ( i=0, ien=selector.length ; i<ien ; i++ ) {\n\t\t\t\trun( selector[i], inst );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ( selector === null || selector === undefined || selector === '*' ) {\n\t\t\t// Select all\n\t\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\t\tret.push( {\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: buttons[i].node\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\telse if ( typeof selector === 'number' ) {\n\t\t\t// Main button index selector\n\t\t\tif (inst.s.buttons[ selector ]) {\n\t\t\t\tret.push( {\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: inst.s.buttons[ selector ].node\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\telse if ( typeof selector === 'string' ) {\n\t\t\tif ( selector.indexOf( ',' ) !== -1 ) {\n\t\t\t\t// Split\n\t\t\t\tvar a = selector.split(',');\n\n\t\t\t\tfor ( i=0, ien=a.length ; i<ien ; i++ ) {\n\t\t\t\t\trun( a[i].trim(), inst );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( selector.match( /^\\d+(\\-\\d+)*$/ ) ) {\n\t\t\t\t// Sub-button index selector\n\t\t\t\tvar indexes = $.map( buttons, function (v) {\n\t\t\t\t\treturn v.idx;\n\t\t\t\t} );\n\n\t\t\t\tret.push( {\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: buttons[ $.inArray( selector, indexes ) ].node\n\t\t\t\t} );\n\t\t\t}\n\t\t\telse if ( selector.indexOf( ':name' ) !== -1 ) {\n\t\t\t\t// Button name selector\n\t\t\t\tvar name = selector.replace( ':name', '' );\n\n\t\t\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\n\t\t\t\t\tif ( buttons[i].name === name ) {\n\t\t\t\t\t\tret.push( {\n\t\t\t\t\t\t\tinst: inst,\n\t\t\t\t\t\t\tnode: buttons[i].node\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// jQuery selector on the nodes\n\t\t\t\t$( nodes ).filter( selector ).each( function () {\n\t\t\t\t\tret.push( {\n\t\t\t\t\t\tinst: inst,\n\t\t\t\t\t\tnode: this\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\telse if ( typeof selector === 'object' && selector.nodeName ) {\n\t\t\t// Node selector\n\t\t\tvar idx = $.inArray( selector, nodes );\n\n\t\t\tif ( idx !== -1 ) {\n\t\t\t\tret.push( {\n\t\t\t\t\tinst: inst,\n\t\t\t\t\tnode: nodes[ idx ]\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n\n\n\tfor ( var i=0, ien=insts.length ; i<ien ; i++ ) {\n\t\tvar inst = insts[i];\n\n\t\trun( selector, inst );\n\t}\n\n\treturn ret;\n};\n\n/**\n * Default function used for formatting output data.\n * @param {*} str Data to strip\n */\nButtons.stripData = function ( str, config ) {\n\tif ( typeof str !== 'string' ) {\n\t\treturn str;\n\t}\n\n\t// Always remove script tags\n\tstr = str.replace( /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '' );\n\n\t// Always remove comments\n\tstr = str.replace( /<!\\-\\-.*?\\-\\->/g, '' );\n\n\tif ( ! config || config.stripHtml ) {\n\t\tstr = str.replace( /<[^>]*>/g, '' );\n\t}\n\n\tif ( ! config || config.trim ) {\n\t\tstr = str.replace( /^\\s+|\\s+$/g, '' );\n\t}\n\n\tif ( ! config || config.stripNewlines ) {\n\t\tstr = str.replace( /\\n/g, ' ' );\n\t}\n\n\tif ( ! config || config.decodeEntities ) {\n\t\t_exportTextarea.innerHTML = str;\n\t\tstr = _exportTextarea.value;\n\t}\n\n\treturn str;\n};\n\n\n/**\n * Buttons defaults. For full documentation, please refer to the docs/option\n * directory or the DataTables site.\n * @type {Object}\n * @static\n */\nButtons.defaults = {\n\tbuttons: [ 'copy', 'excel', 'csv', 'pdf', 'print' ],\n\tname: 'main',\n\ttabIndex: 0,\n\tdom: {\n\t\tcontainer: {\n\t\t\ttag: 'div',\n\t\t\tclassName: 'dt-buttons'\n\t\t},\n\t\tcollection: {\n\t\t\ttag: 'div',\n\t\t\tclassName: ''\n\t\t},\n\t\tbutton: {\n\t\t\ttag: 'button',\n\t\t\tclassName: 'dt-button',\n\t\t\tactive: 'active',\n\t\t\tdisabled: 'disabled',\n\t\t\tspacerClass: ''\n\t\t},\n\t\tbuttonLiner: {\n\t\t\ttag: 'span',\n\t\t\tclassName: ''\n\t\t},\n\t\tsplit: {\n\t\t\ttag: 'div',\n\t\t\tclassName: 'dt-button-split',\n\t\t},\n\t\tsplitWrapper: {\n\t\t\ttag: 'div',\n\t\t\tclassName: 'dt-btn-split-wrapper',\n\t\t},\n\t\tsplitDropdown: {\n\t\t\ttag: 'button',\n\t\t\ttext: '&#x25BC;',\n\t\t\tclassName: 'dt-btn-split-drop',\n\t\t\talign: 'split-right',\n\t\t\tsplitAlignClass: 'dt-button-split-left'\n\t\t},\n\t\tsplitDropdownButton: {\n\t\t\ttag: 'button',\n\t\t\tclassName: 'dt-btn-split-drop-button dt-button',\n\t\t},\n\t\tsplitCollection: {\n\t\t\ttag: 'div',\n\t\t\tclassName: 'dt-button-split-collection',\n\t\t}\n\t}\n};\n\n/**\n * Version information\n * @type {string}\n * @static\n */\nButtons.version = '2.3.3';\n\n\n$.extend( _dtButtons, {\n\tcollection: {\n\t\ttext: function ( dt ) {\n\t\t\treturn dt.i18n( 'buttons.collection', 'Collection' );\n\t\t},\n\t\tclassName: 'buttons-collection',\n\t\tcloseButton: false,\n\t\tinit: function ( dt, button, config ) {\n\t\t\tbutton.attr( 'aria-expanded', false );\n\t\t},\n\t\taction: function ( e, dt, button, config ) {\n\t\t\tif ( config._collection.parents('body').length ) {\n\t\t\t\tthis.popover(false, config);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.popover(config._collection, config);\n\t\t\t}\n\n\t\t\t// When activated using a key - auto focus on the\n\t\t\t// first item in the popover\n\t\t\tif (e.type === 'keypress') {\n\t\t\t\t$('a, button', config._collection).eq(0).focus();\n\t\t\t}\n\t\t},\n\t\tattr: {\n\t\t\t'aria-haspopup': 'dialog'\n\t\t}\n\t\t// Also the popover options, defined in Buttons.popover\n\t},\n\tsplit: {\n\t\ttext: function ( dt ) {\n\t\t\treturn dt.i18n( 'buttons.split', 'Split' );\n\t\t},\n\t\tclassName: 'buttons-split',\n\t\tcloseButton: false,\n\t\tinit: function ( dt, button, config ) {\n\t\t\treturn button.attr( 'aria-expanded', false );\n\t\t},\n\t\taction: function ( e, dt, button, config ) {\n\t\t\tthis.popover(config._collection, config);\n\t\t},\n\t\tattr: {\n\t\t\t'aria-haspopup': 'dialog'\n\t\t}\n\t\t// Also the popover options, defined in Buttons.popover\n\t},\n\tcopy: function ( dt, conf ) {\n\t\tif ( _dtButtons.copyHtml5 ) {\n\t\t\treturn 'copyHtml5';\n\t\t}\n\t},\n\tcsv: function ( dt, conf ) {\n\t\tif ( _dtButtons.csvHtml5 && _dtButtons.csvHtml5.available( dt, conf ) ) {\n\t\t\treturn 'csvHtml5';\n\t\t}\n\t},\n\texcel: function ( dt, conf ) {\n\t\tif ( _dtButtons.excelHtml5 && _dtButtons.excelHtml5.available( dt, conf ) ) {\n\t\t\treturn 'excelHtml5';\n\t\t}\n\t},\n\tpdf: function ( dt, conf ) {\n\t\tif ( _dtButtons.pdfHtml5 && _dtButtons.pdfHtml5.available( dt, conf ) ) {\n\t\t\treturn 'pdfHtml5';\n\t\t}\n\t},\n\tpageLength: function ( dt ) {\n\t\tvar lengthMenu = dt.settings()[0].aLengthMenu;\n\t\tvar vals = [];\n\t\tvar lang = [];\n\t\tvar text = function ( dt ) {\n\t\t\treturn dt.i18n( 'buttons.pageLength', {\n\t\t\t\t\"-1\": 'Show all rows',\n\t\t\t\t_:    'Show %d rows'\n\t\t\t}, dt.page.len() );\n\t\t};\n\n\t\t// Support for DataTables 1.x 2D array\n\t\tif (Array.isArray( lengthMenu[0] )) {\n\t\t\tvals = lengthMenu[0];\n\t\t\tlang = lengthMenu[1];\n\t\t}\n\t\telse {\n\t\t\tfor (var i=0 ; i<lengthMenu.length ; i++) {\n\t\t\t\tvar option = lengthMenu[i];\n\n\t\t\t\t// Support for DataTables 2 object in the array\n\t\t\t\tif ($.isPlainObject(option)) {\n\t\t\t\t\tvals.push(option.value);\n\t\t\t\t\tlang.push(option.label);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvals.push(option);\n\t\t\t\t\tlang.push(option);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\textend: 'collection',\n\t\t\ttext: text,\n\t\t\tclassName: 'buttons-page-length',\n\t\t\tautoClose: true,\n\t\t\tbuttons: $.map( vals, function ( val, i ) {\n\t\t\t\treturn {\n\t\t\t\t\ttext: lang[i],\n\t\t\t\t\tclassName: 'button-page-length',\n\t\t\t\t\taction: function ( e, dt ) {\n\t\t\t\t\t\tdt.page.len( val ).draw();\n\t\t\t\t\t},\n\t\t\t\t\tinit: function ( dt, node, conf ) {\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\tvar fn = function () {\n\t\t\t\t\t\t\tthat.active( dt.page.len() === val );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tdt.on( 'length.dt'+conf.namespace, fn );\n\t\t\t\t\t\tfn();\n\t\t\t\t\t},\n\t\t\t\t\tdestroy: function ( dt, node, conf ) {\n\t\t\t\t\t\tdt.off( 'length.dt'+conf.namespace );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} ),\n\t\t\tinit: function ( dt, node, conf ) {\n\t\t\t\tvar that = this;\n\t\t\t\tdt.on( 'length.dt'+conf.namespace, function () {\n\t\t\t\t\tthat.text( conf.text );\n\t\t\t\t} );\n\t\t\t},\n\t\t\tdestroy: function ( dt, node, conf ) {\n\t\t\t\tdt.off( 'length.dt'+conf.namespace );\n\t\t\t}\n\t\t};\n\t},\n\tspacer: {\n\t\tstyle: 'empty',\n\t\tspacer: true,\n\t\ttext: function ( dt ) {\n\t\t\treturn dt.i18n( 'buttons.spacer', '' );\n\t\t}\n\t}\n} );\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables API\n *\n * For complete documentation, please refer to the docs/api directory or the\n * DataTables site\n */\n\n// Buttons group and individual button selector\nDataTable.Api.register( 'buttons()', function ( group, selector ) {\n\t// Argument shifting\n\tif ( selector === undefined ) {\n\t\tselector = group;\n\t\tgroup = undefined;\n\t}\n\n\tthis.selector.buttonGroup = group;\n\n\tvar res = this.iterator( true, 'table', function ( ctx ) {\n\t\tif ( ctx._buttons ) {\n\t\t\treturn Buttons.buttonSelector(\n\t\t\t\tButtons.instanceSelector( group, ctx._buttons ),\n\t\t\t\tselector\n\t\t\t);\n\t\t}\n\t}, true );\n\n\tres._groupSelector = group;\n\treturn res;\n} );\n\n// Individual button selector\nDataTable.Api.register( 'button()', function ( group, selector ) {\n\t// just run buttons() and truncate\n\tvar buttons = this.buttons( group, selector );\n\n\tif ( buttons.length > 1 ) {\n\t\tbuttons.splice( 1, buttons.length );\n\t}\n\n\treturn buttons;\n} );\n\n// Active buttons\nDataTable.Api.registerPlural( 'buttons().active()', 'button().active()', function ( flag ) {\n\tif ( flag === undefined ) {\n\t\treturn this.map( function ( set ) {\n\t\t\treturn set.inst.active( set.node );\n\t\t} );\n\t}\n\n\treturn this.each( function ( set ) {\n\t\tset.inst.active( set.node, flag );\n\t} );\n} );\n\n// Get / set button action\nDataTable.Api.registerPlural( 'buttons().action()', 'button().action()', function ( action ) {\n\tif ( action === undefined ) {\n\t\treturn this.map( function ( set ) {\n\t\t\treturn set.inst.action( set.node );\n\t\t} );\n\t}\n\n\treturn this.each( function ( set ) {\n\t\tset.inst.action( set.node, action );\n\t} );\n} );\n\n// Collection control\nDataTable.Api.registerPlural( 'buttons().collectionRebuild()', 'button().collectionRebuild()', function ( buttons ) {\n\treturn this.each( function ( set ) {\n\t\tfor(var i = 0; i < buttons.length; i++) {\n\t\t\tif(typeof buttons[i] === 'object') {\n\t\t\t\tbuttons[i].parentConf = set;\n\t\t\t}\n\t\t}\n\t\tset.inst.collectionRebuild( set.node, buttons );\n\t} );\n} );\n\n// Enable / disable buttons\nDataTable.Api.register( ['buttons().enable()', 'button().enable()'], function ( flag ) {\n\treturn this.each( function ( set ) {\n\t\tset.inst.enable( set.node, flag );\n\t} );\n} );\n\n// Disable buttons\nDataTable.Api.register( ['buttons().disable()', 'button().disable()'], function () {\n\treturn this.each( function ( set ) {\n\t\tset.inst.disable( set.node );\n\t} );\n} );\n\n// Button index\nDataTable.Api.register( 'button().index()', function () {\n\tvar idx = null;\n\n\tthis.each( function ( set ) {\n\t\tvar res = set.inst.index( set.node );\n\n\t\tif (res !== null) {\n\t\t\tidx = res;\n\t\t}\n\t} );\n\n\treturn idx;\n} );\n\n// Get button nodes\nDataTable.Api.registerPlural( 'buttons().nodes()', 'button().node()', function () {\n\tvar jq = $();\n\n\t// jQuery will automatically reduce duplicates to a single entry\n\t$( this.each( function ( set ) {\n\t\tjq = jq.add( set.inst.node( set.node ) );\n\t} ) );\n\n\treturn jq;\n} );\n\n// Get / set button processing state\nDataTable.Api.registerPlural( 'buttons().processing()', 'button().processing()', function ( flag ) {\n\tif ( flag === undefined ) {\n\t\treturn this.map( function ( set ) {\n\t\t\treturn set.inst.processing( set.node );\n\t\t} );\n\t}\n\n\treturn this.each( function ( set ) {\n\t\tset.inst.processing( set.node, flag );\n\t} );\n} );\n\n// Get / set button text (i.e. the button labels)\nDataTable.Api.registerPlural( 'buttons().text()', 'button().text()', function ( label ) {\n\tif ( label === undefined ) {\n\t\treturn this.map( function ( set ) {\n\t\t\treturn set.inst.text( set.node );\n\t\t} );\n\t}\n\n\treturn this.each( function ( set ) {\n\t\tset.inst.text( set.node, label );\n\t} );\n} );\n\n// Trigger a button's action\nDataTable.Api.registerPlural( 'buttons().trigger()', 'button().trigger()', function () {\n\treturn this.each( function ( set ) {\n\t\tset.inst.node( set.node ).trigger( 'click' );\n\t} );\n} );\n\n// Button resolver to the popover\nDataTable.Api.register( 'button().popover()', function (content, options) {\n\treturn this.map( function ( set ) {\n\t\treturn set.inst._popover( content, this.button(this[0].node), options );\n\t} );\n} );\n\n// Get the container elements\nDataTable.Api.register( 'buttons().containers()', function () {\n\tvar jq = $();\n\tvar groupSelector = this._groupSelector;\n\n\t// We need to use the group selector directly, since if there are no buttons\n\t// the result set will be empty\n\tthis.iterator( true, 'table', function ( ctx ) {\n\t\tif ( ctx._buttons ) {\n\t\t\tvar insts = Buttons.instanceSelector( groupSelector, ctx._buttons );\n\n\t\t\tfor ( var i=0, ien=insts.length ; i<ien ; i++ ) {\n\t\t\t\tjq = jq.add( insts[i].container() );\n\t\t\t}\n\t\t}\n\t} );\n\n\treturn jq;\n} );\n\nDataTable.Api.register( 'buttons().container()', function () {\n\t// API level of nesting is `buttons()` so we can zip into the containers method\n\treturn this.containers().eq(0);\n} );\n\n// Add a new button\nDataTable.Api.register( 'button().add()', function ( idx, conf, draw ) {\n\tvar ctx = this.context;\n\n\t// Don't use `this` as it could be empty - select the instances directly\n\tif ( ctx.length ) {\n\t\tvar inst = Buttons.instanceSelector( this._groupSelector, ctx[0]._buttons );\n\n\t\tif ( inst.length ) {\n\t\t\tinst[0].add( conf, idx , draw);\n\t\t}\n\t}\n\n\treturn this.button( this._groupSelector, idx );\n} );\n\n// Destroy the button sets selected\nDataTable.Api.register( 'buttons().destroy()', function () {\n\tthis.pluck( 'inst' ).unique().each( function ( inst ) {\n\t\tinst.destroy();\n\t} );\n\n\treturn this;\n} );\n\n// Remove a button\nDataTable.Api.registerPlural( 'buttons().remove()', 'buttons().remove()', function () {\n\tthis.each( function ( set ) {\n\t\tset.inst.remove( set.node );\n\t} );\n\n\treturn this;\n} );\n\n// Information box that can be used by buttons\nvar _infoTimer;\nDataTable.Api.register( 'buttons.info()', function ( title, message, time ) {\n\tvar that = this;\n\n\tif ( title === false ) {\n\t\tthis.off('destroy.btn-info');\n\t\t_fadeOut(\n\t\t\t$('#datatables_buttons_info'),\n\t\t\t400,\n\t\t\tfunction () {\n\t\t\t\t$(this).remove();\n\t\t\t}\n\t\t);\n\t\tclearTimeout( _infoTimer );\n\t\t_infoTimer = null;\n\n\t\treturn this;\n\t}\n\n\tif ( _infoTimer ) {\n\t\tclearTimeout( _infoTimer );\n\t}\n\n\tif ( $('#datatables_buttons_info').length ) {\n\t\t$('#datatables_buttons_info').remove();\n\t}\n\n\ttitle = title ? '<h2>'+title+'</h2>' : '';\n\n\t_fadeIn(\n\t\t$('<div id=\"datatables_buttons_info\" class=\"dt-button-info\"/>')\n\t\t\t.html( title )\n\t\t\t.append( $('<div/>')[ typeof message === 'string' ? 'html' : 'append' ]( message ) )\n\t\t\t.css( 'display', 'none' )\n\t\t\t.appendTo( 'body' )\n\t);\n\n\tif ( time !== undefined && time !== 0 ) {\n\t\t_infoTimer = setTimeout( function () {\n\t\t\tthat.buttons.info( false );\n\t\t}, time );\n\t}\n\n\tthis.on('destroy.btn-info', function () {\n\t\tthat.buttons.info(false);\n\t});\n\n\treturn this;\n} );\n\n// Get data from the table for export - this is common to a number of plug-in\n// buttons so it is included in the Buttons core library\nDataTable.Api.register( 'buttons.exportData()', function ( options ) {\n\tif ( this.context.length ) {\n\t\treturn _exportData( new DataTable.Api( this.context[0] ), options );\n\t}\n} );\n\n// Get information about the export that is common to many of the export data\n// types (DRY)\nDataTable.Api.register( 'buttons.exportInfo()', function ( conf ) {\n\tif ( ! conf ) {\n\t\tconf = {};\n\t}\n\n\treturn {\n\t\tfilename: _filename( conf ),\n\t\ttitle: _title( conf ),\n\t\tmessageTop: _message(this, conf.message || conf.messageTop, 'top'),\n\t\tmessageBottom: _message(this, conf.messageBottom, 'bottom')\n\t};\n} );\n\n\n\n/**\n * Get the file name for an exported file.\n *\n * @param {object}\tconfig Button configuration\n * @param {boolean} incExtension Include the file name extension\n */\nvar _filename = function ( config )\n{\n\t// Backwards compatibility\n\tvar filename = config.filename === '*' && config.title !== '*' && config.title !== undefined && config.title !== null && config.title !== '' ?\n\t\tconfig.title :\n\t\tconfig.filename;\n\n\tif ( typeof filename === 'function' ) {\n\t\tfilename = filename();\n\t}\n\n\tif ( filename === undefined || filename === null ) {\n\t\treturn null;\n\t}\n\n\tif ( filename.indexOf( '*' ) !== -1 ) {\n\t\tfilename = filename.replace( '*', $('head > title').text() ).trim();\n\t}\n\n\t// Strip characters which the OS will object to\n\tfilename = filename.replace(/[^a-zA-Z0-9_\\u00A1-\\uFFFF\\.,\\-_ !\\(\\)]/g, \"\");\n\n\tvar extension = _stringOrFunction( config.extension );\n\tif ( ! extension ) {\n\t\textension = '';\n\t}\n\n\treturn filename + extension;\n};\n\n/**\n * Simply utility method to allow parameters to be given as a function\n *\n * @param {undefined|string|function} option Option\n * @return {null|string} Resolved value\n */\nvar _stringOrFunction = function ( option )\n{\n\tif ( option === null || option === undefined ) {\n\t\treturn null;\n\t}\n\telse if ( typeof option === 'function' ) {\n\t\treturn option();\n\t}\n\treturn option;\n};\n\n/**\n * Get the title for an exported file.\n *\n * @param {object} config\tButton configuration\n */\nvar _title = function ( config )\n{\n\tvar title = _stringOrFunction( config.title );\n\n\treturn title === null ?\n\t\tnull : title.indexOf( '*' ) !== -1 ?\n\t\t\ttitle.replace( '*', $('head > title').text() || 'Exported data' ) :\n\t\t\ttitle;\n};\n\nvar _message = function ( dt, option, position )\n{\n\tvar message = _stringOrFunction( option );\n\tif ( message === null ) {\n\t\treturn null;\n\t}\n\n\tvar caption = $('caption', dt.table().container()).eq(0);\n\tif ( message === '*' ) {\n\t\tvar side = caption.css( 'caption-side' );\n\t\tif ( side !== position ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn caption.length ?\n\t\t\tcaption.text() :\n\t\t\t'';\n\t}\n\n\treturn message;\n};\n\n\n\n\nvar _exportTextarea = $('<textarea/>')[0];\nvar _exportData = function ( dt, inOpts )\n{\n\tvar config = $.extend( true, {}, {\n\t\trows:           null,\n\t\tcolumns:        '',\n\t\tmodifier:       {\n\t\t\tsearch: 'applied',\n\t\t\torder:  'applied'\n\t\t},\n\t\torthogonal:     'display',\n\t\tstripHtml:      true,\n\t\tstripNewlines:  true,\n\t\tdecodeEntities: true,\n\t\ttrim:           true,\n\t\tformat:         {\n\t\t\theader: function ( d ) {\n\t\t\t\treturn Buttons.stripData( d, config );\n\t\t\t},\n\t\t\tfooter: function ( d ) {\n\t\t\t\treturn Buttons.stripData( d, config );\n\t\t\t},\n\t\t\tbody: function ( d ) {\n\t\t\t\treturn Buttons.stripData( d, config );\n\t\t\t}\n\t\t},\n\t\tcustomizeData: null\n\t}, inOpts );\n\n\tvar header = dt.columns( config.columns ).indexes().map( function (idx) {\n\t\tvar el = dt.column( idx ).header();\n\t\treturn config.format.header( el.innerHTML, idx, el );\n\t} ).toArray();\n\n\tvar footer = dt.table().footer() ?\n\t\tdt.columns( config.columns ).indexes().map( function (idx) {\n\t\t\tvar el = dt.column( idx ).footer();\n\t\t\treturn config.format.footer( el ? el.innerHTML : '', idx, el );\n\t\t} ).toArray() :\n\t\tnull;\n\t\n\t// If Select is available on this table, and any rows are selected, limit the export\n\t// to the selected rows. If no rows are selected, all rows will be exported. Specify\n\t// a `selected` modifier to control directly.\n\tvar modifier = $.extend( {}, config.modifier );\n\tif ( dt.select && typeof dt.select.info === 'function' && modifier.selected === undefined ) {\n\t\tif ( dt.rows( config.rows, $.extend( { selected: true }, modifier ) ).any() ) {\n\t\t\t$.extend( modifier, { selected: true } )\n\t\t}\n\t}\n\n\tvar rowIndexes = dt.rows( config.rows, modifier ).indexes().toArray();\n\tvar selectedCells = dt.cells( rowIndexes, config.columns );\n\tvar cells = selectedCells\n\t\t.render( config.orthogonal )\n\t\t.toArray();\n\tvar cellNodes = selectedCells\n\t\t.nodes()\n\t\t.toArray();\n\n\tvar columns = header.length;\n\tvar rows = columns > 0 ? cells.length / columns : 0;\n\tvar body = [];\n\tvar cellCounter = 0;\n\n\tfor ( var i=0, ien=rows ; i<ien ; i++ ) {\n\t\tvar row = [ columns ];\n\n\t\tfor ( var j=0 ; j<columns ; j++ ) {\n\t\t\trow[j] = config.format.body( cells[ cellCounter ], i, j, cellNodes[ cellCounter ] );\n\t\t\tcellCounter++;\n\t\t}\n\n\t\tbody[i] = row;\n\t}\n\n\tvar data = {\n\t\theader: header,\n\t\tfooter: footer,\n\t\tbody:   body\n\t};\n\n\tif ( config.customizeData ) {\n\t\tconfig.customizeData( data );\n\t}\n\n\treturn data;\n};\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables interface\n */\n\n// Attach to DataTables objects for global access\n$.fn.dataTable.Buttons = Buttons;\n$.fn.DataTable.Buttons = Buttons;\n\n\n\n// DataTables creation - check if the buttons have been defined for this table,\n// they will have been if the `B` option was used in `dom`, otherwise we should\n// create the buttons instance here so they can be inserted into the document\n// using the API. Listen for `init` for compatibility with pre 1.10.10, but to\n// be removed in future.\n$(document).on( 'init.dt plugin-init.dt', function (e, settings) {\n\tif ( e.namespace !== 'dt' ) {\n\t\treturn;\n\t}\n\n\tvar opts = settings.oInit.buttons || DataTable.defaults.buttons;\n\n\tif ( opts && ! settings._buttons ) {\n\t\tnew Buttons( settings, opts ).container();\n\t}\n} );\n\nfunction _init ( settings, options ) {\n\tvar api = new DataTable.Api( settings );\n\tvar opts = options\n\t\t? options\n\t\t: api.init().buttons || DataTable.defaults.buttons;\n\n\treturn new Buttons( api, opts ).container();\n}\n\n// DataTables `dom` feature option\nDataTable.ext.feature.push( {\n\tfnInit: _init,\n\tcFeature: \"B\"\n} );\n\n// DataTables 2 layout feature\nif ( DataTable.ext.features ) {\n\tDataTable.ext.features.register( 'buttons', _init );\n}\n\n\nexport default DataTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}